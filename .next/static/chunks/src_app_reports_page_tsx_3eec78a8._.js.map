{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/MohammedAlabdali/HousingMaintenance/src/app/reports/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport { getMaintenanceRequests, getMonthlyMaintenanceRequests } from '@/lib/services/maintenanceService';\r\nimport { getLowStockItems } from '@/lib/services/inventoryService';\r\nimport { getPurchaseOrders } from '@/lib/services/purchaseService';\r\nimport { MaintenanceRequest, Inventory, PurchaseOrder } from '@/models/types';\r\n\r\n// Extended inventory type with item details\r\ntype InventoryWithItem = Inventory & {\r\n  items: {\r\n    id: string;\r\n    name: string;\r\n    category_id: string;\r\n    unit: string;\r\n  };\r\n};\r\n\r\nexport default function ReportsPage() {\r\n  const [timeframe, setTimeframe] = useState<'month' | 'quarter' | 'year'>('month');\r\n  const [maintenanceStats, setMaintenanceStats] = useState({\r\n    total: 0,\r\n    pending: 0,\r\n    inProgress: 0,\r\n    completed: 0,\r\n    completionRate: 0,\r\n    averageCompletionDays: 0\r\n  });\r\n  const [inventoryStats, setInventoryStats] = useState({\r\n    lowStockCount: 0,\r\n    lowStockItems: [] as InventoryWithItem[]\r\n  });\r\n  const [purchaseStats, setPurchaseStats] = useState({\r\n    total: 0,\r\n    totalAmount: 0,\r\n    pending: 0,\r\n    completed: 0\r\n  });\r\n  \r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  \r\n  // Get the current date and previous periods\r\n  const currentDate = new Date();\r\n  const currentYear = currentDate.getFullYear();\r\n  const currentMonth = currentDate.getMonth();\r\n  \r\n  // Calculate date ranges based on selected timeframe\r\n  const getDateRange = () => {\r\n    let startDate = new Date();\r\n    \r\n    if (timeframe === 'month') {\r\n      startDate = new Date(currentYear, currentMonth, 1);\r\n    } else if (timeframe === 'quarter') {\r\n      const quarterStartMonth = Math.floor(currentMonth / 3) * 3;\r\n      startDate = new Date(currentYear, quarterStartMonth, 1);\r\n    } else if (timeframe === 'year') {\r\n      startDate = new Date(currentYear, 0, 1);\r\n    }\r\n    \r\n    return {\r\n      start: startDate,\r\n      end: currentDate\r\n    };\r\n  };\r\n  \r\n  // Load report data based on the selected timeframe\r\n  useEffect(() => {\r\n    const fetchReportData = async () => {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      try {\r\n        const dateRange = getDateRange();\r\n        \r\n        // Fetch maintenance data\r\n        const maintenanceData = await getMaintenanceRequests();\r\n        \r\n        // Filter maintenance requests by date range\r\n        const filteredMaintenance = maintenanceData.filter(request => {\r\n          const requestDate = new Date(request.reported_date);\r\n          return requestDate >= dateRange.start && requestDate <= dateRange.end;\r\n        });\r\n        \r\n        // Calculate maintenance statistics\r\n        const totalRequests = filteredMaintenance.length;\r\n        const pendingRequests = filteredMaintenance.filter(req => \r\n          req.status === 'pending' || req.status === 'approved'\r\n        ).length;\r\n        const inProgressRequests = filteredMaintenance.filter(req => req.status === 'in_progress').length;\r\n        const completedRequests = filteredMaintenance.filter(req => req.status === 'completed').length;\r\n        const completionRate = totalRequests > 0 ? (completedRequests / totalRequests) * 100 : 0;\r\n        \r\n        // Calculate average completion time in days\r\n        let totalCompletionDays = 0;\r\n        let completedRequestsWithDates = 0;\r\n        \r\n        filteredMaintenance.forEach(req => {\r\n          if (req.status === 'completed' && req.completion_date) {\r\n            const reportedDate = new Date(req.reported_date);\r\n            const completedDate = new Date(req.completion_date);\r\n            const daysToComplete = Math.floor((completedDate.getTime() - reportedDate.getTime()) / (1000 * 60 * 60 * 24));\r\n            \r\n            totalCompletionDays += daysToComplete;\r\n            completedRequestsWithDates++;\r\n          }\r\n        });\r\n        \r\n        const averageCompletionDays = completedRequestsWithDates > 0 \r\n          ? Math.round(totalCompletionDays / completedRequestsWithDates) \r\n          : 0;\r\n        \r\n        setMaintenanceStats({\r\n          total: totalRequests,\r\n          pending: pendingRequests,\r\n          inProgress: inProgressRequests,\r\n          completed: completedRequests,\r\n          completionRate: parseFloat(completionRate.toFixed(1)),\r\n          averageCompletionDays\r\n        });\r\n        \r\n        // Fetch low stock items\r\n        const lowStock = await getLowStockItems(5);\r\n        setInventoryStats({\r\n          lowStockCount: lowStock.length,\r\n          lowStockItems: lowStock as InventoryWithItem[]\r\n        });\r\n        \r\n        // Fetch purchase orders\r\n        const purchaseOrders = await getPurchaseOrders();\r\n        \r\n        // Filter purchase orders by date range\r\n        const filteredPurchases = purchaseOrders.filter(order => {\r\n          const orderDate = new Date(order.order_date);\r\n          return orderDate >= dateRange.start && orderDate <= dateRange.end;\r\n        });\r\n        \r\n        const totalOrders = filteredPurchases.length;\r\n        const pendingOrders = filteredPurchases.filter(order => \r\n          order.status === 'draft' || order.status === 'submitted' || order.status === 'approved' || order.status === 'ordered'\r\n        ).length;\r\n        const completedOrders = filteredPurchases.filter(order => \r\n          order.status === 'received' || order.status === 'completed'\r\n        ).length;\r\n        \r\n        // Calculate total purchase amount\r\n        const totalAmount = filteredPurchases.reduce((sum, order) => {\r\n          return sum + (order.total_amount || 0);\r\n        }, 0);\r\n        \r\n        setPurchaseStats({\r\n          total: totalOrders,\r\n          totalAmount,\r\n          pending: pendingOrders,\r\n          completed: completedOrders\r\n        });\r\n      } catch (err) {\r\n        // Improved error handling with proper formatting\r\n        const errorMessage = err instanceof Error ? err.message : 'An unknown error occurred';\r\n        console.error('Error fetching report data:', errorMessage);\r\n        setError('حدث خطأ أثناء تحميل بيانات التقارير. الرجاء المحاولة مرة أخرى.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchReportData();\r\n  }, [timeframe]);\r\n  \r\n  return (\r\n    <div className=\"container mx-auto bg-gray-50 dark:bg-gray-900 min-h-screen p-4\">\r\n      <h1 className=\"text-2xl font-bold mb-6 dark:text-white\">التقارير والإحصائيات</h1>\r\n      \r\n      {error && (\r\n        <div className=\"bg-red-100 border-r-4 border-red-500 text-red-700 p-4 mb-6 rounded-md dark:bg-red-900/30 dark:border-red-800 dark:text-red-400\">\r\n          <p>{error}</p>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Time Period Selection */}\r\n      <div className=\"bg-white shadow-md rounded-lg p-4 mb-8 dark:bg-gray-800\">\r\n        <h2 className=\"text-lg font-semibold mb-4 dark:text-white\">الفترة الزمنية</h2>\r\n        <div className=\"flex gap-4\">\r\n          <button\r\n            onClick={() => setTimeframe('month')}\r\n            className={`px-4 py-2 rounded-md ${\r\n              timeframe === 'month' \r\n                ? 'bg-teal-600 text-white dark:bg-teal-700' \r\n                : 'bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-gray-200'\r\n            }`}\r\n          >\r\n            شهري\r\n          </button>\r\n          <button\r\n            onClick={() => setTimeframe('quarter')}\r\n            className={`px-4 py-2 rounded-md ${\r\n              timeframe === 'quarter' \r\n                ? 'bg-teal-600 text-white dark:bg-teal-700' \r\n                : 'bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-gray-200'\r\n            }`}\r\n          >\r\n            ربع سنوي\r\n          </button>\r\n          <button\r\n            onClick={() => setTimeframe('year')}\r\n            className={`px-4 py-2 rounded-md ${\r\n              timeframe === 'year' \r\n                ? 'bg-teal-600 text-white dark:bg-teal-700' \r\n                : 'bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-gray-200'\r\n            }`}\r\n          >\r\n            سنوي\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      {loading ? (\r\n        <div className=\"text-center py-10 dark:text-gray-300\">\r\n          <p className=\"text-lg\">جاري تحميل البيانات...</p>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {/* Maintenance Statistics */}\r\n          <div className=\"bg-white shadow-md rounded-lg overflow-hidden mb-8 dark:bg-gray-800\">\r\n            <div className=\"bg-teal-50 p-4 border-b border-teal-100 dark:bg-teal-900/20 dark:border-teal-900/30\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <h2 className=\"text-lg font-semibold text-teal-800 dark:text-teal-300\">إحصائيات طلبات الصيانة</h2>\r\n                <Link href=\"/reports/maintenance\" className=\"text-teal-600 hover:underline dark:text-teal-400\">\r\n                  عرض التقرير المفصل\r\n                </Link>\r\n              </div>\r\n            </div>\r\n            <div className=\"p-6\">\r\n              <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4\">\r\n                <div className=\"text-center p-4 bg-gray-50 rounded-lg dark:bg-gray-700\">\r\n                  <p className=\"text-sm text-gray-500 mb-1 dark:text-gray-400\">إجمالي الطلبات</p>\r\n                  <p className=\"text-2xl font-bold dark:text-white\">{maintenanceStats.total}</p>\r\n                </div>\r\n                <div className=\"text-center p-4 bg-yellow-50 rounded-lg dark:bg-yellow-900/20\">\r\n                  <p className=\"text-sm text-gray-500 mb-1 dark:text-gray-400\">قيد الانتظار</p>\r\n                  <p className=\"text-2xl font-bold text-yellow-700 dark:text-yellow-300\">{maintenanceStats.pending}</p>\r\n                </div>\r\n                <div className=\"text-center p-4 bg-blue-50 rounded-lg dark:bg-blue-900/20\">\r\n                  <p className=\"text-sm text-gray-500 mb-1 dark:text-gray-400\">قيد التنفيذ</p>\r\n                  <p className=\"text-2xl font-bold text-blue-700 dark:text-blue-300\">{maintenanceStats.inProgress}</p>\r\n                </div>\r\n                <div className=\"text-center p-4 bg-green-50 rounded-lg dark:bg-green-900/20\">\r\n                  <p className=\"text-sm text-gray-500 mb-1 dark:text-gray-400\">مكتملة</p>\r\n                  <p className=\"text-2xl font-bold text-green-700 dark:text-green-300\">{maintenanceStats.completed}</p>\r\n                </div>\r\n                <div className=\"text-center p-4 bg-purple-50 rounded-lg dark:bg-purple-900/20\">\r\n                  <p className=\"text-sm text-gray-500 mb-1 dark:text-gray-400\">معدل الإنجاز</p>\r\n                  <p className=\"text-2xl font-bold text-purple-700 dark:text-purple-300\">{maintenanceStats.completionRate}%</p>\r\n                </div>\r\n                <div className=\"text-center p-4 bg-indigo-50 rounded-lg dark:bg-indigo-900/20\">\r\n                  <p className=\"text-sm text-gray-500 mb-1 dark:text-gray-400\">متوسط مدة الإنجاز</p>\r\n                  <p className=\"text-2xl font-bold text-indigo-700 dark:text-indigo-300\">{maintenanceStats.averageCompletionDays} يوم</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Inventory and Purchase Statistics */}\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\">\r\n            {/* Inventory Status */}\r\n            <div className=\"bg-white shadow-md rounded-lg overflow-hidden dark:bg-gray-800\">\r\n              <div className=\"bg-blue-50 p-4 border-b border-blue-100 dark:bg-blue-900/20 dark:border-blue-900/30\">\r\n                <div className=\"flex justify-between items-center\">\r\n                  <h2 className=\"text-lg font-semibold text-blue-800 dark:text-blue-300\">حالة المخزون</h2>\r\n                  <Link href=\"/inventory\" className=\"text-blue-600 hover:underline dark:text-blue-400\">\r\n                    إدارة المخزون\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n              <div className=\"p-6\">\r\n                <div className=\"mb-6\">\r\n                  <div className=\"flex justify-between mb-2\">\r\n                    <h3 className=\"font-medium dark:text-white\">الأصناف منخفضة المخزون</h3>\r\n                    <span className=\"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs dark:bg-red-900/30 dark:text-red-300\">\r\n                      {inventoryStats.lowStockCount} صنف\r\n                    </span>\r\n                  </div>\r\n                  \r\n                  {inventoryStats.lowStockItems.length > 0 ? (\r\n                    <ul className=\"divide-y dark:divide-gray-700\">\r\n                      {inventoryStats.lowStockItems.slice(0, 5).map(item => (\r\n                        <li key={item.id} className=\"py-2 flex justify-between dark:text-gray-300\">\r\n                          <span>{item.items.name}</span>\r\n                          <span className=\"font-bold text-red-600 dark:text-red-400\">{item.quantity} {item.items.unit}</span>\r\n                        </li>\r\n                      ))}\r\n                      {inventoryStats.lowStockItems.length > 5 && (\r\n                        <li className=\"py-2 text-center text-blue-600 hover:underline dark:text-blue-400\">\r\n                          <Link href=\"/inventory?showLowStock=true\">\r\n                            عرض الكل ({inventoryStats.lowStockItems.length})\r\n                          </Link>\r\n                        </li>\r\n                      )}\r\n                    </ul>\r\n                  ) : (\r\n                    <p className=\"text-gray-500 text-center py-4 dark:text-gray-400\">\r\n                      لا توجد أصناف منخفضة المخزون\r\n                    </p>\r\n                  )}\r\n                </div>\r\n                \r\n                <Link href=\"/inventory/report\" className=\"btn bg-blue-600 hover:bg-blue-700 text-white w-full py-2 px-4 rounded-md block text-center dark:bg-blue-700 dark:hover:bg-blue-600\">\r\n                  تقرير المخزون الشامل\r\n                </Link>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Purchase Orders Status */}\r\n            <div className=\"bg-white shadow-md rounded-lg overflow-hidden dark:bg-gray-800\">\r\n              <div className=\"bg-purple-50 p-4 border-b border-purple-100 dark:bg-purple-900/20 dark:border-purple-900/30\">\r\n                <div className=\"flex justify-between items-center\">\r\n                  <h2 className=\"text-lg font-semibold text-purple-800 dark:text-purple-300\">حالة المشتريات</h2>\r\n                  <Link href=\"/purchase-orders\" className=\"text-purple-600 hover:underline dark:text-purple-400\">\r\n                    عرض طلبات الشراء\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n              <div className=\"p-6\">\r\n                <div className=\"grid grid-cols-2 gap-4 mb-6\">\r\n                  <div className=\"text-center p-4 bg-gray-50 rounded-lg dark:bg-gray-700\">\r\n                    <p className=\"text-sm text-gray-500 mb-1 dark:text-gray-400\">إجمالي الطلبات</p>\r\n                    <p className=\"text-2xl font-bold dark:text-white\">{purchaseStats.total}</p>\r\n                  </div>\r\n                  <div className=\"text-center p-4 bg-green-50 rounded-lg dark:bg-green-900/20\">\r\n                    <p className=\"text-sm text-gray-500 mb-1 dark:text-gray-400\">المبلغ الإجمالي</p>\r\n                    <p className=\"text-2xl font-bold text-green-700 dark:text-green-300\">{purchaseStats.totalAmount.toLocaleString()} ريال</p>\r\n                  </div>\r\n                  <div className=\"text-center p-4 bg-yellow-50 rounded-lg dark:bg-yellow-900/20\">\r\n                    <p className=\"text-sm text-gray-500 mb-1 dark:text-gray-400\">قيد الإجراء</p>\r\n                    <p className=\"text-2xl font-bold text-yellow-700 dark:text-yellow-300\">{purchaseStats.pending}</p>\r\n                  </div>\r\n                  <div className=\"text-center p-4 bg-blue-50 rounded-lg dark:bg-blue-900/20\">\r\n                    <p className=\"text-sm text-gray-500 mb-1 dark:text-gray-400\">مكتملة</p>\r\n                    <p className=\"text-2xl font-bold text-blue-700 dark:text-blue-300\">{purchaseStats.completed}</p>\r\n                  </div>\r\n                </div>\r\n                \r\n                <Link href=\"/reports/purchases\" className=\"btn bg-purple-600 hover:bg-purple-700 text-white w-full py-2 px-4 rounded-md block text-center dark:bg-purple-700 dark:hover:bg-purple-600\">\r\n                  تقرير المشتريات الشامل\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Monthly Reports Links */}\r\n          <div className=\"bg-white shadow-md rounded-lg overflow-hidden mb-8 dark:bg-gray-800\">\r\n            <div className=\"p-4 border-b dark:border-gray-700\">\r\n              <h2 className=\"text-lg font-semibold dark:text-white\">التقارير الشهرية</h2>\r\n            </div>\r\n            <div className=\"p-6\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <Link \r\n                  href={`/reports/monthly/${currentYear}/${currentMonth + 1}/maintenance`}\r\n                  className=\"p-4 border rounded-lg bg-gray-50 hover:bg-gray-100 flex flex-col items-center dark:bg-gray-700 dark:border-gray-600 dark:hover:bg-gray-600\"\r\n                >\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8 text-teal-600 mb-2 dark:text-teal-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n                  </svg>\r\n                  <span className=\"text-center font-medium dark:text-white\">تقرير الصيانة الشهري</span>\r\n                </Link>\r\n                \r\n                <Link \r\n                  href={`/reports/monthly/${currentYear}/${currentMonth + 1}/inventory`}\r\n                  className=\"p-4 border rounded-lg bg-gray-50 hover:bg-gray-100 flex flex-col items-center dark:bg-gray-700 dark:border-gray-600 dark:hover:bg-gray-600\"\r\n                >\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8 text-blue-600 mb-2 dark:text-blue-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\" />\r\n                  </svg>\r\n                  <span className=\"text-center font-medium dark:text-white\">تقرير حركة المخزون</span>\r\n                </Link>\r\n                \r\n                <Link \r\n                  href={`/reports/monthly/${currentYear}/${currentMonth + 1}/purchases`}\r\n                  className=\"p-4 border rounded-lg bg-gray-50 hover:bg-gray-100 flex flex-col items-center dark:bg-gray-700 dark:border-gray-600 dark:hover:bg-gray-600\"\r\n                >\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8 text-purple-600 mb-2 dark:text-purple-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z\" />\r\n                  </svg>\r\n                  <span className=\"text-center font-medium dark:text-white\">تقرير المشتريات الشهري</span>\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Export Reports */}\r\n          <div className=\"bg-white shadow-md rounded-lg overflow-hidden dark:bg-gray-800\">\r\n            <div className=\"p-4 border-b dark:border-gray-700\">\r\n              <h2 className=\"text-lg font-semibold dark:text-white\">تصدير التقارير</h2>\r\n            </div>\r\n            <div className=\"p-6\">\r\n              <p className=\"text-gray-600 mb-4 dark:text-gray-400\">\r\n                يمكنك تصدير التقارير بصيغ مختلفة للطباعة أو المشاركة أو الأرشفة.\r\n              </p>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <button className=\"btn bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-md dark:bg-green-700 dark:hover:bg-green-600\">\r\n                  تصدير إلى Excel\r\n                </button>\r\n                <button className=\"btn bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-md dark:bg-red-700 dark:hover:bg-red-600\">\r\n                  تصدير إلى PDF\r\n                </button>\r\n                <button className=\"btn bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded-md dark:bg-gray-700 dark:hover:bg-gray-600\">\r\n                  طباعة التقرير\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}