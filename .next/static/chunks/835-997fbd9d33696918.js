"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[835],{1835:(e,s,a)=>{a.d(s,{A:()=>d});var r=a(5155),t=a(9137),l=a.n(t),i=a(2115);function d(e){let{complexes:s,onSelectComplex:a,onSelectBuilding:t,onSelectFloor:d,onSelectRoom:n}=e,[c,o]=(0,i.useState)(null),[m,x]=(0,i.useState)(null),[h,g]=(0,i.useState)(null),[b,p]=(0,i.useState)("card"),[j,u]=(0,i.useState)(!1),N=s.find(e=>e.id===c),v=N&&N.buildings?N.buildings.find(e=>e.id===m):void 0,f=v&&v.floors?v.floors.find(e=>e.number===h):void 0,y=e=>{o(e),x(null),g(null),a&&a(e)},w=e=>{x(e),g(null),t&&t(e)},k=e=>{g(e),d&&d(e)},z=e=>{n&&n(e)},C=(e,s)=>{let a=["bg-primary","bg-secondary","bg-accent","bg-neutral","bg-info","bg-success","bg-warning","bg-error"];return"complex"===s?a[e%a.length]:({complex:"bg-primary",building:"bg-secondary",floor:"bg-accent",room:"bg-neutral"})[s]},A=e=>{switch(e){case"available":return"border-success bg-success bg-opacity-10";case"occupied":return"border-warning bg-warning bg-opacity-10";case"maintenance":return"border-error bg-error bg-opacity-10";default:return"border-neutral"}},_=e=>{switch(e){case"available":return"متاح";case"occupied":return"مشغول";case"maintenance":return"قيد الصيانة";default:return e}},S=(0,r.jsx)(l(),{id:"ceb9e093aa67926",children:".perspective{-webkit-perspective:2e3px;-moz-perspective:2e3px;perspective:2e3px}.perspective-600{-webkit-perspective:600px;-moz-perspective:600px;perspective:600px}.transform-style-3d{-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d;transform-style:preserve-3d}.rotate-x-5{-webkit-transform:rotatex(5deg);-moz-transform:rotatex(5deg);-ms-transform:rotatex(5deg);-o-transform:rotatex(5deg);transform:rotatex(5deg)}.rotate-y-5{-webkit-transform:rotatey(5deg);-moz-transform:rotatey(5deg);-ms-transform:rotatey(5deg);-o-transform:rotatey(5deg);transform:rotatey(5deg)}.translate-z-4{-webkit-transform:translatez(4px);-moz-transform:translatez(4px);-ms-transform:translatez(4px);-o-transform:translatez(4px);transform:translatez(4px)}.translate-z-12{-webkit-transform:translatez(12px);-moz-transform:translatez(12px);-ms-transform:translatez(12px);-o-transform:translatez(12px);transform:translatez(12px)}"});return(0,r.jsxs)(r.Fragment,{children:[S,(0,r.jsxs)("div",{className:"container mx-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{className:"btn btn-sm ".concat("card"===b?"btn-primary":"btn-ghost"),onClick:()=>p("card"),children:"عرض البطاقات"}),(0,r.jsx)("button",{className:"btn btn-sm ".concat("tree"===b?"btn-primary":"btn-ghost"),onClick:()=>p("tree"),children:"عرض شجري"}),(0,r.jsx)("button",{className:"btn btn-sm ".concat("3d"===b?"btn-primary":"btn-ghost"),onClick:()=>p("3d"),children:"عرض ثلاثي الأبعاد"})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"هيكل الإسكان"}),(0,r.jsx)("p",{className:"text-sm opacity-70",children:"عرض المجمعات والمباني والطوابق والغرف"})]})]}),0===s.length?(0,r.jsxs)("div",{className:"text-center p-12 bg-base-200 rounded-lg",children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:"لا توجد مجمعات سكنية حالياً"}),(0,r.jsx)("p",{className:"text-sm mt-2",children:"قم بإضافة مجمعات سكنية للبدء"})]}):(0,r.jsxs)(r.Fragment,{children:["card"===b&&(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map((e,s)=>(0,r.jsxs)("div",{className:"card shadow-lg cursor-pointer transition-all transform hover:scale-105 border-2 ".concat(c===e.id?"border-primary":"border-transparent"),onClick:()=>y(e.id),children:[(0,r.jsxs)("div",{className:"card-body ".concat(C(s,"complex")," text-white"),children:[(0,r.jsxs)("h2",{className:"card-title text-xl text-right flex justify-between",children:[e.name,(0,r.jsxs)("span",{className:"badge badge-neutral",children:[e.buildings&&e.buildings.length||0," مبنى"]})]}),(0,r.jsx)("p",{className:"text-right",children:e.location}),e.description&&(0,r.jsx)("p",{className:"text-right text-sm opacity-80",children:e.description})]}),c===e.id&&e.buildings&&Array.isArray(e.buildings)&&(0,r.jsxs)("div",{className:"p-4 bg-base-200",children:[(0,r.jsx)("h3",{className:"text-right mb-3 font-bold text-lg",children:"المباني"}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:e.buildings.map((e,s)=>(0,r.jsx)("div",{className:"card shadow bg-base-100 cursor-pointer hover:bg-base-200 ".concat(m===e.id?"border-2 border-secondary":""),onClick:s=>{s.stopPropagation(),w(e.id)},children:(0,r.jsxs)("div",{className:"card-body p-4",children:[(0,r.jsx)("h4",{className:"text-right font-bold",children:e.name}),(0,r.jsxs)("p",{className:"text-right text-sm",children:[e.floors_count||e.floors&&e.floors.length||0," طابق"]})]})},e.id))})]})]},e.id))}),v&&(0,r.jsxs)("div",{className:"mt-8 card shadow-lg border-2 border-secondary",children:[(0,r.jsxs)("div",{className:"card-body bg-secondary text-white",children:[(0,r.jsxs)("h2",{className:"card-title text-xl text-right",children:[v.name," - ",null==N?void 0:N.name,(0,r.jsxs)("span",{className:"badge badge-neutral",children:[v.floors&&v.floors.length||0," طابق"]})]}),v.description&&(0,r.jsx)("p",{className:"text-right",children:v.description})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("h3",{className:"text-right mb-3 font-bold text-lg",children:"الطوابق"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-3",children:v.floors&&v.floors.sort((e,s)=>s.number-e.number).map(e=>(0,r.jsx)("div",{className:"card shadow cursor-pointer bg-base-100 hover:bg-base-200 ".concat(h===e.number?"border-2 border-accent":""),onClick:()=>k(e.number),children:(0,r.jsxs)("div",{className:"card-body p-4",children:[(0,r.jsxs)("h4",{className:"text-right font-bold",children:["الطابق ",e.number]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{className:"badge badge-primary",children:[e.rooms&&e.rooms.length||0," غرفة"]}),(0,r.jsxs)("span",{className:"badge badge-secondary",children:[e.services&&e.services.length||0," خدمة"]})]})]})},e.id))})]})]}),f&&(0,r.jsxs)("div",{className:"mt-8 card shadow-lg border-2 border-accent",children:[(0,r.jsxs)("div",{className:"card-body bg-accent text-white",children:[(0,r.jsxs)("h2",{className:"card-title text-xl text-right",children:["الطابق ",f.number," - ",null==v?void 0:v.name]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsxs)("span",{className:"badge badge-neutral",children:[f.rooms&&f.rooms.length||0," غرفة"]}),(0,r.jsxs)("span",{className:"badge badge-neutral",children:[f.services&&f.services.length||0," خدمة"]})]})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"h-3 w-3 rounded-full bg-success mr-2"}),(0,r.jsx)("span",{className:"text-xs",children:"متاح"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"h-3 w-3 rounded-full bg-warning mr-2"}),(0,r.jsx)("span",{className:"text-xs",children:"مشغول"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"h-3 w-3 rounded-full bg-error mr-2"}),(0,r.jsx)("span",{className:"text-xs",children:"صيانة"})]})]}),(0,r.jsx)("h3",{className:"text-right font-bold text-lg",children:"الغرف"})]}),f.rooms&&f.rooms.length>0?(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 mb-6",children:f.rooms.map(e=>(0,r.jsxs)("div",{className:"relative card shadow cursor-pointer hover:shadow-lg border-2 ".concat(A(e.status)),onClick:()=>z(e.room_number),children:[(0,r.jsx)("div",{className:"absolute top-2 left-2",children:(0,r.jsx)("span",{className:"text-xs badge ".concat("available"===e.status?"badge-success":"occupied"===e.status?"badge-warning":"badge-error"),children:_(e.status)})}),(0,r.jsxs)("div",{className:"card-body p-3",children:[(0,r.jsx)("h4",{className:"text-right font-bold",children:e.name}),(0,r.jsxs)("p",{className:"text-right text-sm",children:["رقم الغرفة: ",e.room_number]}),(0,r.jsx)("p",{className:"text-right text-xs opacity-70",children:e.type}),e.services&&e.services.length>0&&(0,r.jsx)("div",{className:"text-right mt-2",children:(0,r.jsxs)("span",{className:"badge badge-sm",children:[e.services.length," خدمة"]})}),e.area&&(0,r.jsxs)("p",{className:"text-right text-xs mt-1",children:[e.area," م\xb2"]}),e.hasBalcony&&(0,r.jsx)("div",{className:"text-right mt-1",children:(0,r.jsx)("span",{className:"badge badge-outline badge-xs",children:"شرفة"})})]})]},e.id))}):(0,r.jsx)("div",{className:"alert alert-info",children:(0,r.jsx)("p",{className:"text-center",children:"لا توجد غرف في هذا الطابق"})}),f.services&&f.services.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{className:"text-right mb-3 font-bold text-lg",children:"الخدمات المشتركة بالطابق"}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"table table-compact w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text-right",children:"الاسم"}),(0,r.jsx)("th",{className:"text-right",children:"النوع"}),(0,r.jsx)("th",{className:"text-right",children:"الموقع"}),(0,r.jsx)("th",{className:"text-right",children:"الوصف"})]})}),(0,r.jsx)("tbody",{children:f.services.map(e=>(0,r.jsxs)("tr",{className:"hover",children:[(0,r.jsx)("td",{className:"text-right",children:e.name}),(0,r.jsx)("td",{className:"text-right",children:e.type}),(0,r.jsx)("td",{className:"text-right",children:e.location}),(0,r.jsx)("td",{className:"text-right",children:e.description})]},e.id))})]})})]})]})]})]}),"tree"===b&&(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)("div",{className:"flex flex-col space-y-4",children:s.map((e,s)=>(0,r.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"".concat(C(s,"complex")," p-4 flex justify-between items-center text-white cursor-pointer"),onClick:()=>y(e.id),children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)("span",{className:"badge badge-neutral",children:[e.buildings&&e.buildings.length||0," مبنى"]})}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("h2",{className:"font-bold text-lg",children:e.name}),(0,r.jsx)("p",{className:"text-sm opacity-90",children:e.location})]})]}),c===e.id&&e.buildings&&Array.isArray(e.buildings)&&e.buildings.length>0&&(0,r.jsx)("div",{className:"bg-base-100 p-2 border-t",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute bottom-0 top-0 right-7 border-r-2 border-dashed"}),e.buildings.map((e,s)=>(0,r.jsxs)("div",{className:"relative mr-8 mb-2",children:[(0,r.jsx)("div",{className:"absolute top-6 right-[-28px] w-7 border-t-2 border-dashed"}),(0,r.jsxs)("div",{className:"".concat(m===e.id?"border-2 border-secondary":"border"," \n                                    rounded-lg overflow-hidden shadow-sm"),children:[(0,r.jsxs)("div",{className:"bg-base-200 p-3 flex justify-between items-center cursor-pointer",onClick:()=>w(e.id),children:[(0,r.jsxs)("span",{className:"badge badge-secondary",children:[e.floors&&e.floors.length||0," طابق"]}),(0,r.jsx)("h3",{className:"text-right font-bold",children:e.name})]}),m===e.id&&e.floors&&Array.isArray(e.floors)&&e.floors.length>0&&(0,r.jsxs)("div",{className:"bg-base-100 p-2 border-t relative",children:[(0,r.jsx)("div",{className:"absolute bottom-0 top-0 right-7 border-r-2 border-dotted"}),e.floors.sort((e,s)=>s.number-e.number).map(e=>(0,r.jsxs)("div",{className:"relative mr-8 mb-2",children:[(0,r.jsx)("div",{className:"absolute top-6 right-[-28px] w-7 border-t-2 border-dotted"}),(0,r.jsxs)("div",{className:"".concat(h===e.number?"border-2 border-accent":"border"," \n                                            rounded-lg overflow-hidden shadow-sm"),children:[(0,r.jsxs)("div",{className:"bg-base-200 p-2 flex justify-between items-center cursor-pointer",onClick:()=>k(e.number),children:[(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)("span",{className:"badge badge-primary badge-sm",children:[e.rooms.length," غرفة"]}),(0,r.jsxs)("span",{className:"badge badge-secondary badge-sm",children:[e.services.length," خدمة"]})]}),(0,r.jsxs)("h4",{className:"text-right",children:["الطابق ",e.number]})]}),h===e.number&&(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 p-2 border-t",children:e.rooms.map(e=>(0,r.jsxs)("div",{className:"border rounded p-2 text-right cursor-pointer ".concat(A(e.status)),onClick:()=>z(e.room_number),children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"badge badge-xs ".concat("available"===e.status?"badge-success":"occupied"===e.status?"badge-warning":"badge-error"),children:_(e.status)}),(0,r.jsx)("span",{className:"font-bold",children:e.name})]}),(0,r.jsx)("div",{className:"text-xs",children:e.room_number})]},e.id))})]})]},e.id))]})]})]},e.id))]})})]},e.id))})}),"3d"===b&&(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)("div",{className:"grid grid-cols-1 gap-8",children:s.map((e,s)=>(0,r.jsx)("div",{className:"perspective",children:(0,r.jsxs)("div",{className:"relative p-4 transform-style-3d cursor-pointer ".concat(c===e.id?"rotate-x-5":""),onClick:()=>y(e.id),children:[(0,r.jsxs)("div",{className:"".concat(C(s,"complex")," p-6 rounded-lg shadow-xl transform text-white transition-all duration-300"),children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"badge badge-lg badge-outline",children:[e.buildings&&e.buildings.length||0," مبنى"]}),(0,r.jsx)("h2",{className:"text-xl font-bold text-right",children:e.name})]}),(0,r.jsx)("p",{className:"text-right mt-2",children:e.location}),e.description&&(0,r.jsx)("p",{className:"text-right text-sm mt-2 opacity-80",children:e.description})]}),c===e.id&&e.buildings&&Array.isArray(e.buildings)&&e.buildings.length>0&&(0,r.jsx)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.buildings.map((e,s)=>(0,r.jsxs)("div",{className:"transform-style-3d cursor-pointer ".concat(m===e.id?"translate-z-12":"hover:translate-z-4"),onClick:s=>{s.stopPropagation(),w(e.id)},children:[(0,r.jsx)("div",{className:"bg-secondary p-4 rounded-lg shadow-lg transform transition-all duration-300 ".concat(m===e.id?"rotate-y-5 shadow-2xl":""),children:(0,r.jsxs)("div",{className:"flex justify-between items-center text-white",children:[(0,r.jsxs)("span",{className:"badge badge-outline",children:[e.floors&&e.floors.length||0," طابق"]}),(0,r.jsx)("h3",{className:"font-bold text-right",children:e.name})]})}),m===e.id&&e.floors&&Array.isArray(e.floors)&&e.floors.length>0&&(0,r.jsx)("div",{className:"mt-4 relative pt-4 pb-4 perspective-600",children:e.floors.sort((e,s)=>s.number-e.number).map((s,a)=>{let t=8*a;return(0,r.jsx)("div",{style:{marginTop:"-".concat(t,"px"),marginBottom:"".concat(t,"px"),zIndex:e.floors.length-a,transform:"translateZ(".concat(-5*a,"px)")},className:"relative bg-accent p-3 rounded-lg shadow ".concat(h===s.number?"translate-y-[-10px] shadow-lg":""," mb-2 cursor-pointer transition-all hover:translate-y-[-5px]"),onClick:e=>{e.stopPropagation(),k(s.number)},children:(0,r.jsxs)("div",{className:"flex justify-between items-center text-white",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)("span",{className:"badge badge-xs badge-outline",children:[s.rooms&&s.rooms.length||0," غرفة"]}),(0,r.jsxs)("span",{className:"badge badge-xs badge-outline",children:[s.services&&s.services.length||0," خدمة"]})]}),(0,r.jsxs)("span",{className:"font-bold",children:["الطابق ",s.number]})]})},s.id)})}),null!==h&&m===e.id&&f&&(0,r.jsxs)("div",{className:"mt-4 bg-base-200 rounded-lg p-4 shadow-inner",children:[(0,r.jsxs)("h4",{className:"text-right font-bold mb-2",children:["محتويات الطابق ",h]}),(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:f.rooms&&f.rooms.length>0&&f.rooms.map(e=>(0,r.jsxs)("div",{className:"text-right p-2 rounded ".concat(A(e.status)," cursor-pointer"),onClick:s=>{s.stopPropagation(),z(e.room_number)},children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"badge badge-xs ".concat("available"===e.status?"badge-success":"occupied"===e.status?"badge-warning":"badge-error")}),(0,r.jsx)("span",{className:"font-bold",children:e.name})]}),(0,r.jsx)("span",{className:"text-xs block",children:e.room_number})]},e.id))})]})]},e.id))})]})},e.id))})})]})]})]})}}}]);