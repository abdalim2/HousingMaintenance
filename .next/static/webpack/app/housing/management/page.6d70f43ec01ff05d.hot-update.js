"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/housing/management/page",{

/***/ "(app-pages-browser)/./src/lib/services/complexManagementService.ts":
/*!******************************************************!*\
  !*** ./src/lib/services/complexManagementService.ts ***!
  \******************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addBuildingToComplex: () => (/* binding */ addBuildingToComplex),\n/* harmony export */   addFloorToBuilding: () => (/* binding */ addFloorToBuilding),\n/* harmony export */   addRoomToFloor: () => (/* binding */ addRoomToFloor),\n/* harmony export */   addServiceToFloor: () => (/* binding */ addServiceToFloor),\n/* harmony export */   addServiceToRoom: () => (/* binding */ addServiceToRoom),\n/* harmony export */   createComplex: () => (/* binding */ createComplex),\n/* harmony export */   deleteComplex: () => (/* binding */ deleteComplex),\n/* harmony export */   getAllComplexes: () => (/* binding */ getAllComplexes),\n/* harmony export */   getBuildingById: () => (/* binding */ getBuildingById),\n/* harmony export */   getComplexById: () => (/* binding */ getComplexById),\n/* harmony export */   getFloorByNumber: () => (/* binding */ getFloorByNumber),\n/* harmony export */   importComplexesFromAPI: () => (/* binding */ importComplexesFromAPI),\n/* harmony export */   updateComplex: () => (/* binding */ updateComplex)\n/* harmony export */ });\n// المصفوفة الرئيسية لتخزين جميع المجمعات السكنية\nlet residentialComplexes = [];\n/**\r\n * الحصول على جميع المجمعات السكنية\r\n */ const getAllComplexes = ()=>{\n    return residentialComplexes;\n};\n/**\r\n * الحصول على مجمع سكني بواسطة المعرف\r\n */ const getComplexById = (id)=>{\n    return residentialComplexes.find((complex)=>complex.id === id);\n};\n/**\r\n * إنشاء مجمع سكني جديد\r\n */ const createComplex = (complex)=>{\n    const newComplex = {\n        id: generateUniqueId(),\n        name: complex.name,\n        location: complex.location,\n        description: complex.description,\n        buildings: [],\n        sharedFacilities: [],\n        created_at: new Date().toISOString()\n    };\n    residentialComplexes.push(newComplex);\n    return newComplex;\n};\n/**\r\n * تحديث مجمع سكني\r\n */ const updateComplex = (id, updates)=>{\n    const complexIndex = residentialComplexes.findIndex((complex)=>complex.id === id);\n    if (complexIndex === -1) {\n        return undefined;\n    }\n    const updatedComplex = {\n        ...residentialComplexes[complexIndex],\n        ...updates\n    };\n    residentialComplexes[complexIndex] = updatedComplex;\n    return updatedComplex;\n};\n/**\r\n * حذف مجمع سكني\r\n */ const deleteComplex = (id)=>{\n    const initialLength = residentialComplexes.length;\n    residentialComplexes = residentialComplexes.filter((complex)=>complex.id !== id);\n    return residentialComplexes.length < initialLength;\n};\n/**\r\n * إضافة مبنى لمجمع سكني\r\n */ const addBuildingToComplex = async (complexId, building)=>{\n    try {\n        // إرسال طلب لإضافة المبنى إلى قاعدة البيانات\n        const response = await fetch('/api/housing/buildings', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                complex_id: complexId,\n                name: building.name,\n                description: building.description,\n                floors: 0\n            })\n        });\n        if (!response.ok) {\n            throw new Error(\"فشل في إضافة المبنى: \".concat(response.statusText));\n        }\n        const newBuilding = await response.json();\n        // إضافة المبنى إلى المصفوفة المحلية أيضاً\n        const complex = getComplexById(complexId);\n        if (complex) {\n            const buildingWithFloors = {\n                ...newBuilding,\n                floors: []\n            };\n            complex.buildings.push(buildingWithFloors);\n            return buildingWithFloors;\n        }\n        return undefined;\n    } catch (error) {\n        console.error('خطأ في إضافة المبنى:', error);\n        return undefined;\n    }\n};\n/**\r\n * الحصول على مبنى بواسطة المعرف\r\n */ const getBuildingById = (complexId, buildingId)=>{\n    const complex = getComplexById(complexId);\n    if (!complex) return undefined;\n    return complex.buildings.find((building)=>building.id === buildingId);\n};\n/**\r\n * إضافة طابق لمبنى\r\n */ const addFloorToBuilding = (complexId, buildingId, floorNumber)=>{\n    const building = getBuildingById(complexId, buildingId);\n    if (!building) {\n        return undefined;\n    }\n    // التحقق من عدم وجود طابق بنفس الرقم\n    if (building.floors.some((floor)=>floor.number === floorNumber)) {\n        return undefined;\n    }\n    const newFloor = {\n        id: generateUniqueId(),\n        number: floorNumber,\n        rooms: [],\n        services: []\n    };\n    building.floors.push(newFloor);\n    building.floors_count = building.floors.length;\n    // ترتيب الطوابق تصاعدياً حسب الرقم\n    building.floors.sort((a, b)=>a.number - b.number);\n    return newFloor;\n};\n/**\r\n * الحصول على طابق بواسطة الرقم\r\n */ const getFloorByNumber = (complexId, buildingId, floorNumber)=>{\n    const building = getBuildingById(complexId, buildingId);\n    if (!building) return undefined;\n    return building.floors.find((floor)=>floor.number === floorNumber);\n};\n/**\r\n * إضافة غرفة لطابق\r\n */ const addRoomToFloor = (complexId, buildingId, floorNumber, room)=>{\n    const floor = getFloorByNumber(complexId, buildingId, floorNumber);\n    if (!floor) {\n        return undefined;\n    }\n    // التحقق من عدم وجود غرفة بنفس الرقم\n    if (floor.rooms.some((existingRoom)=>existingRoom.room_number === room.room_number)) {\n        return undefined;\n    }\n    const newRoom = {\n        id: generateUniqueId(),\n        name: room.name,\n        room_number: room.room_number,\n        type: room.type,\n        status: room.status,\n        area: room.area,\n        hasBalcony: room.hasBalcony,\n        services: []\n    };\n    floor.rooms.push(newRoom);\n    return newRoom;\n};\n/**\r\n * إضافة خدمة لطابق\r\n */ const addServiceToFloor = (complexId, buildingId, floorNumber, service)=>{\n    const floor = getFloorByNumber(complexId, buildingId, floorNumber);\n    if (!floor) {\n        return undefined;\n    }\n    const newService = {\n        id: generateUniqueId(),\n        name: service.name,\n        type: service.type,\n        location: service.location,\n        description: service.description\n    };\n    floor.services.push(newService);\n    return newService;\n};\n/**\r\n * إضافة خدمة لغرفة\r\n */ const addServiceToRoom = (complexId, buildingId, floorNumber, roomNumber, service)=>{\n    const floor = getFloorByNumber(complexId, buildingId, floorNumber);\n    if (!floor) return undefined;\n    const room = floor.rooms.find((room)=>room.room_number === roomNumber);\n    if (!room) return undefined;\n    if (!room.services) {\n        room.services = [];\n    }\n    const newService = {\n        id: generateUniqueId(),\n        name: service.name,\n        type: service.type,\n        location: service.location,\n        description: service.description\n    };\n    room.services.push(newService);\n    return newService;\n};\n/**\r\n * دالة مساعدة لإنشاء معرفات فريدة\r\n */ const generateUniqueId = ()=>{\n    return Date.now().toString(36) + Math.random().toString(36).substring(2);\n};\n/**\r\n * استيراد بيانات المجمعات السكنية من وحدات API خارجية\r\n */ const importComplexesFromAPI = async ()=>{\n    try {\n        const response = await fetch('/api/housing');\n        if (!response.ok) {\n            throw new Error(\"فشل في جلب المجمعات السكنية: \".concat(response.statusText));\n        }\n        const apiComplexes = await response.json();\n        // تحويل البيانات من النموذج القديم إلى النموذج الجديد\n        const transformedComplexes = [];\n        for (const apiComplex of apiComplexes){\n            const complex = {\n                id: apiComplex.id,\n                name: apiComplex.name,\n                location: apiComplex.location,\n                description: apiComplex.description,\n                created_at: apiComplex.created_at,\n                buildings: [],\n                sharedFacilities: []\n            };\n            // استيراد المباني\n            try {\n                const buildingsResponse = await fetch(\"/api/housing/buildings?complexId=\".concat(complex.id));\n                if (buildingsResponse.ok) {\n                    const apiBuildings = await buildingsResponse.json();\n                    for (const apiBuilding of apiBuildings){\n                        const building = {\n                            id: apiBuilding.id,\n                            name: apiBuilding.name,\n                            complex_id: apiBuilding.complex_id,\n                            floors_count: apiBuilding.floors,\n                            description: apiBuilding.description,\n                            floors: []\n                        };\n                        // إنشاء طوابق افتراضية بناءً على عدد الطوابق في المبنى\n                        for(let i = 1; i <= apiBuilding.floors; i++){\n                            const floor = {\n                                id: generateUniqueId(),\n                                number: i,\n                                rooms: [],\n                                services: []\n                            };\n                            building.floors.push(floor);\n                        }\n                        complex.buildings.push(building);\n                    }\n                }\n            } catch (error) {\n                console.error(\"فشل في استيراد المباني للمجمع \".concat(complex.name, \":\"), error);\n            }\n            transformedComplexes.push(complex);\n        }\n        // تحديث المصفوفة الرئيسية\n        residentialComplexes = transformedComplexes;\n    } catch (error) {\n        console.error('فشل في استيراد المجمعات السكنية:', error);\n        throw error;\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvc2VydmljZXMvY29tcGxleE1hbmFnZW1lbnRTZXJ2aWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFTQSxpREFBaUQ7QUFDakQsSUFBSUEsdUJBQTZDLEVBQUU7QUFFbkQ7O0NBRUMsR0FDTSxNQUFNQyxrQkFBa0I7SUFDN0IsT0FBT0Q7QUFDVCxFQUFFO0FBRUY7O0NBRUMsR0FDTSxNQUFNRSxpQkFBaUIsQ0FBQ0M7SUFDN0IsT0FBT0gscUJBQXFCSSxJQUFJLENBQUNDLENBQUFBLFVBQVdBLFFBQVFGLEVBQUUsS0FBS0E7QUFDN0QsRUFBRTtBQUVGOztDQUVDLEdBQ00sTUFBTUcsZ0JBQWdCLENBQUNEO0lBQzVCLE1BQU1FLGFBQWlDO1FBQ3JDSixJQUFJSztRQUNKQyxNQUFNSixRQUFRSSxJQUFJO1FBQ2xCQyxVQUFVTCxRQUFRSyxRQUFRO1FBQzFCQyxhQUFhTixRQUFRTSxXQUFXO1FBQ2hDQyxXQUFXLEVBQUU7UUFDYkMsa0JBQWtCLEVBQUU7UUFDcEJDLFlBQVksSUFBSUMsT0FBT0MsV0FBVztJQUNwQztJQUVBaEIscUJBQXFCaUIsSUFBSSxDQUFDVjtJQUMxQixPQUFPQTtBQUNULEVBQUU7QUFFRjs7Q0FFQyxHQUNNLE1BQU1XLGdCQUFnQixDQUFDZixJQUFZZ0I7SUFDeEMsTUFBTUMsZUFBZXBCLHFCQUFxQnFCLFNBQVMsQ0FBQ2hCLENBQUFBLFVBQVdBLFFBQVFGLEVBQUUsS0FBS0E7SUFFOUUsSUFBSWlCLGlCQUFpQixDQUFDLEdBQUc7UUFDdkIsT0FBT0U7SUFDVDtJQUVBLE1BQU1DLGlCQUFpQjtRQUNyQixHQUFHdkIsb0JBQW9CLENBQUNvQixhQUFhO1FBQ3JDLEdBQUdELE9BQU87SUFDWjtJQUVBbkIsb0JBQW9CLENBQUNvQixhQUFhLEdBQUdHO0lBQ3JDLE9BQU9BO0FBQ1QsRUFBRTtBQUVGOztDQUVDLEdBQ00sTUFBTUMsZ0JBQWdCLENBQUNyQjtJQUM1QixNQUFNc0Is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bnRlbmFuY2VcXHNyY1xcbGliXFxzZXJ2aWNlc1xcY29tcGxleE1hbmFnZW1lbnRTZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFxyXG4gIFJlc2lkZW50aWFsQ29tcGxleCwgXHJcbiAgQnVpbGRpbmcsIFxyXG4gIEZsb29yLCBcclxuICBSb29tLCBcclxuICBTZXJ2aWNlLCBcclxuICBGYWNpbGl0eSBcclxufSBmcm9tICdAL21vZGVscy90eXBlcyc7XHJcblxyXG4vLyDYp9mE2YXYtdmB2YjZgdipINin2YTYsdim2YrYs9mK2Kkg2YTYqtiu2LLZitmGINis2YXZiti5INin2YTZhdis2YXYudin2Kog2KfZhNiz2YPZhtmK2KlcclxubGV0IHJlc2lkZW50aWFsQ29tcGxleGVzOiBSZXNpZGVudGlhbENvbXBsZXhbXSA9IFtdO1xyXG5cclxuLyoqXHJcbiAqINin2YTYrdi12YjZhCDYudmE2Ykg2KzZhdmK2Lkg2KfZhNmF2KzZhdi52KfYqiDYp9mE2LPZg9mG2YrYqVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGdldEFsbENvbXBsZXhlcyA9ICgpOiBSZXNpZGVudGlhbENvbXBsZXhbXSA9PiB7XHJcbiAgcmV0dXJuIHJlc2lkZW50aWFsQ29tcGxleGVzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqINin2YTYrdi12YjZhCDYudmE2Ykg2YXYrNmF2Lkg2LPZg9mG2Yog2KjZiNin2LPYt9ipINin2YTZhdi52LHZgVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGdldENvbXBsZXhCeUlkID0gKGlkOiBzdHJpbmcpOiBSZXNpZGVudGlhbENvbXBsZXggfCB1bmRlZmluZWQgPT4ge1xyXG4gIHJldHVybiByZXNpZGVudGlhbENvbXBsZXhlcy5maW5kKGNvbXBsZXggPT4gY29tcGxleC5pZCA9PT0gaWQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqINil2YbYtNin2KEg2YXYrNmF2Lkg2LPZg9mG2Yog2KzYr9mK2K9cclxuICovXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVDb21wbGV4ID0gKGNvbXBsZXg6IE9taXQ8UmVzaWRlbnRpYWxDb21wbGV4LCAnaWQnIHwgJ2J1aWxkaW5ncycgfCAnY3JlYXRlZF9hdCc+KTogUmVzaWRlbnRpYWxDb21wbGV4ID0+IHtcclxuICBjb25zdCBuZXdDb21wbGV4OiBSZXNpZGVudGlhbENvbXBsZXggPSB7XHJcbiAgICBpZDogZ2VuZXJhdGVVbmlxdWVJZCgpLFxyXG4gICAgbmFtZTogY29tcGxleC5uYW1lLFxyXG4gICAgbG9jYXRpb246IGNvbXBsZXgubG9jYXRpb24sXHJcbiAgICBkZXNjcmlwdGlvbjogY29tcGxleC5kZXNjcmlwdGlvbixcclxuICAgIGJ1aWxkaW5nczogW10sXHJcbiAgICBzaGFyZWRGYWNpbGl0aWVzOiBbXSxcclxuICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gIH07XHJcbiAgXHJcbiAgcmVzaWRlbnRpYWxDb21wbGV4ZXMucHVzaChuZXdDb21wbGV4KTtcclxuICByZXR1cm4gbmV3Q29tcGxleDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiDYqtit2K/ZitirINmF2KzZhdi5INiz2YPZhtmKXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgdXBkYXRlQ29tcGxleCA9IChpZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPFJlc2lkZW50aWFsQ29tcGxleD4pOiBSZXNpZGVudGlhbENvbXBsZXggfCB1bmRlZmluZWQgPT4ge1xyXG4gIGNvbnN0IGNvbXBsZXhJbmRleCA9IHJlc2lkZW50aWFsQ29tcGxleGVzLmZpbmRJbmRleChjb21wbGV4ID0+IGNvbXBsZXguaWQgPT09IGlkKTtcclxuICBcclxuICBpZiAoY29tcGxleEluZGV4ID09PSAtMSkge1xyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICB9XHJcbiAgXHJcbiAgY29uc3QgdXBkYXRlZENvbXBsZXggPSB7XHJcbiAgICAuLi5yZXNpZGVudGlhbENvbXBsZXhlc1tjb21wbGV4SW5kZXhdLFxyXG4gICAgLi4udXBkYXRlcyxcclxuICB9O1xyXG4gIFxyXG4gIHJlc2lkZW50aWFsQ29tcGxleGVzW2NvbXBsZXhJbmRleF0gPSB1cGRhdGVkQ29tcGxleDtcclxuICByZXR1cm4gdXBkYXRlZENvbXBsZXg7XHJcbn07XHJcblxyXG4vKipcclxuICog2K3YsNmBINmF2KzZhdi5INiz2YPZhtmKXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZGVsZXRlQ29tcGxleCA9IChpZDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XHJcbiAgY29uc3QgaW5pdGlhbExlbmd0aCA9IHJlc2lkZW50aWFsQ29tcGxleGVzLmxlbmd0aDtcclxuICByZXNpZGVudGlhbENvbXBsZXhlcyA9IHJlc2lkZW50aWFsQ29tcGxleGVzLmZpbHRlcihjb21wbGV4ID0+IGNvbXBsZXguaWQgIT09IGlkKTtcclxuICByZXR1cm4gcmVzaWRlbnRpYWxDb21wbGV4ZXMubGVuZ3RoIDwgaW5pdGlhbExlbmd0aDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiDYpdi22KfZgdipINmF2KjZhtmJINmE2YXYrNmF2Lkg2LPZg9mG2YpcclxuICovXHJcbmV4cG9ydCBjb25zdCBhZGRCdWlsZGluZ1RvQ29tcGxleCA9IGFzeW5jIChjb21wbGV4SWQ6IHN0cmluZywgYnVpbGRpbmc6IE9taXQ8QnVpbGRpbmcsICdpZCcgfCAnZmxvb3JzJyB8ICdjb21wbGV4X2lkJz4pOiBQcm9taXNlPEJ1aWxkaW5nIHwgdW5kZWZpbmVkPiA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vINil2LHYs9in2YQg2LfZhNioINmE2KXYttin2YHYqSDYp9mE2YXYqNmG2Ykg2KXZhNmJINmC2KfYudiv2Kkg2KfZhNio2YrYp9mG2KfYqlxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9ob3VzaW5nL2J1aWxkaW5ncycsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgY29tcGxleF9pZDogY29tcGxleElkLFxyXG4gICAgICAgIG5hbWU6IGJ1aWxkaW5nLm5hbWUsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGJ1aWxkaW5nLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgIGZsb29yczogMCwgLy8g2YrYqNiv2KMg2KjYtdmB2LEg2LfYp9io2YJcclxuICAgICAgfSksXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihg2YHYtNmEINmB2Yog2KXYttin2YHYqSDYp9mE2YXYqNmG2Yk6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBuZXdCdWlsZGluZyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIFxyXG4gICAgLy8g2KXYttin2YHYqSDYp9mE2YXYqNmG2Ykg2KXZhNmJINin2YTZhdi12YHZiNmB2Kkg2KfZhNmF2K3ZhNmK2Kkg2KPZiti22KfZi1xyXG4gICAgY29uc3QgY29tcGxleCA9IGdldENvbXBsZXhCeUlkKGNvbXBsZXhJZCk7XHJcbiAgICBpZiAoY29tcGxleCkge1xyXG4gICAgICBjb25zdCBidWlsZGluZ1dpdGhGbG9vcnM6IEJ1aWxkaW5nID0ge1xyXG4gICAgICAgIC4uLm5ld0J1aWxkaW5nLFxyXG4gICAgICAgIGZsb29yczogW11cclxuICAgICAgfTtcclxuICAgICAgY29tcGxleC5idWlsZGluZ3MucHVzaChidWlsZGluZ1dpdGhGbG9vcnMpO1xyXG4gICAgICByZXR1cm4gYnVpbGRpbmdXaXRoRmxvb3JzO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfYrti32KMg2YHZiiDYpdi22KfZgdipINin2YTZhdio2YbZiTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiDYp9mE2K3YtdmI2YQg2LnZhNmJINmF2KjZhtmJINio2YjYp9iz2LfYqSDYp9mE2YXYudix2YFcclxuICovXHJcbmV4cG9ydCBjb25zdCBnZXRCdWlsZGluZ0J5SWQgPSAoY29tcGxleElkOiBzdHJpbmcsIGJ1aWxkaW5nSWQ6IHN0cmluZyk6IEJ1aWxkaW5nIHwgdW5kZWZpbmVkID0+IHtcclxuICBjb25zdCBjb21wbGV4ID0gZ2V0Q29tcGxleEJ5SWQoY29tcGxleElkKTtcclxuICBpZiAoIWNvbXBsZXgpIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgXHJcbiAgcmV0dXJuIGNvbXBsZXguYnVpbGRpbmdzLmZpbmQoYnVpbGRpbmcgPT4gYnVpbGRpbmcuaWQgPT09IGJ1aWxkaW5nSWQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqINil2LbYp9mB2Kkg2LfYp9io2YIg2YTZhdio2YbZiVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGFkZEZsb29yVG9CdWlsZGluZyA9IChjb21wbGV4SWQ6IHN0cmluZywgYnVpbGRpbmdJZDogc3RyaW5nLCBmbG9vck51bWJlcjogbnVtYmVyKTogRmxvb3IgfCB1bmRlZmluZWQgPT4ge1xyXG4gIGNvbnN0IGJ1aWxkaW5nID0gZ2V0QnVpbGRpbmdCeUlkKGNvbXBsZXhJZCwgYnVpbGRpbmdJZCk7XHJcbiAgXHJcbiAgaWYgKCFidWlsZGluZykge1xyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICB9XHJcbiAgXHJcbiAgLy8g2KfZhNiq2K3ZgtmCINmF2YYg2LnYr9mFINmI2KzZiNivINi32KfYqNmCINio2YbZgdizINin2YTYsdmC2YVcclxuICBpZiAoYnVpbGRpbmcuZmxvb3JzLnNvbWUoZmxvb3IgPT4gZmxvb3IubnVtYmVyID09PSBmbG9vck51bWJlcikpIHtcclxuICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnN0IG5ld0Zsb29yOiBGbG9vciA9IHtcclxuICAgIGlkOiBnZW5lcmF0ZVVuaXF1ZUlkKCksXHJcbiAgICBudW1iZXI6IGZsb29yTnVtYmVyLFxyXG4gICAgcm9vbXM6IFtdLFxyXG4gICAgc2VydmljZXM6IFtdXHJcbiAgfTtcclxuICBcclxuICBidWlsZGluZy5mbG9vcnMucHVzaChuZXdGbG9vcik7XHJcbiAgYnVpbGRpbmcuZmxvb3JzX2NvdW50ID0gYnVpbGRpbmcuZmxvb3JzLmxlbmd0aDtcclxuICBcclxuICAvLyDYqtix2KrZitioINin2YTYt9mI2KfYqNmCINiq2LXYp9i52K/Zitin2Ysg2K3Ys9ioINin2YTYsdmC2YVcclxuICBidWlsZGluZy5mbG9vcnMuc29ydCgoYSwgYikgPT4gYS5udW1iZXIgLSBiLm51bWJlcik7XHJcbiAgXHJcbiAgcmV0dXJuIG5ld0Zsb29yO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqINin2YTYrdi12YjZhCDYudmE2Ykg2LfYp9io2YIg2KjZiNin2LPYt9ipINin2YTYsdmC2YVcclxuICovXHJcbmV4cG9ydCBjb25zdCBnZXRGbG9vckJ5TnVtYmVyID0gKGNvbXBsZXhJZDogc3RyaW5nLCBidWlsZGluZ0lkOiBzdHJpbmcsIGZsb29yTnVtYmVyOiBudW1iZXIpOiBGbG9vciB8IHVuZGVmaW5lZCA9PiB7XHJcbiAgY29uc3QgYnVpbGRpbmcgPSBnZXRCdWlsZGluZ0J5SWQoY29tcGxleElkLCBidWlsZGluZ0lkKTtcclxuICBpZiAoIWJ1aWxkaW5nKSByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIFxyXG4gIHJldHVybiBidWlsZGluZy5mbG9vcnMuZmluZChmbG9vciA9PiBmbG9vci5udW1iZXIgPT09IGZsb29yTnVtYmVyKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiDYpdi22KfZgdipINi62LHZgdipINmE2LfYp9io2YJcclxuICovXHJcbmV4cG9ydCBjb25zdCBhZGRSb29tVG9GbG9vciA9IChcclxuICBjb21wbGV4SWQ6IHN0cmluZywgXHJcbiAgYnVpbGRpbmdJZDogc3RyaW5nLCBcclxuICBmbG9vck51bWJlcjogbnVtYmVyLCBcclxuICByb29tOiBPbWl0PFJvb20sICdpZCcgfCAnc2VydmljZXMnPlxyXG4pOiBSb29tIHwgdW5kZWZpbmVkID0+IHtcclxuICBjb25zdCBmbG9vciA9IGdldEZsb29yQnlOdW1iZXIoY29tcGxleElkLCBidWlsZGluZ0lkLCBmbG9vck51bWJlcik7XHJcbiAgXHJcbiAgaWYgKCFmbG9vcikge1xyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICB9XHJcbiAgXHJcbiAgLy8g2KfZhNiq2K3ZgtmCINmF2YYg2LnYr9mFINmI2KzZiNivINi62LHZgdipINio2YbZgdizINin2YTYsdmC2YVcclxuICBpZiAoZmxvb3Iucm9vbXMuc29tZShleGlzdGluZ1Jvb20gPT4gZXhpc3RpbmdSb29tLnJvb21fbnVtYmVyID09PSByb29tLnJvb21fbnVtYmVyKSkge1xyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICB9XHJcbiAgXHJcbiAgY29uc3QgbmV3Um9vbTogUm9vbSA9IHtcclxuICAgIGlkOiBnZW5lcmF0ZVVuaXF1ZUlkKCksXHJcbiAgICBuYW1lOiByb29tLm5hbWUsXHJcbiAgICByb29tX251bWJlcjogcm9vbS5yb29tX251bWJlcixcclxuICAgIHR5cGU6IHJvb20udHlwZSxcclxuICAgIHN0YXR1czogcm9vbS5zdGF0dXMsXHJcbiAgICBhcmVhOiByb29tLmFyZWEsXHJcbiAgICBoYXNCYWxjb255OiByb29tLmhhc0JhbGNvbnksXHJcbiAgICBzZXJ2aWNlczogW11cclxuICB9O1xyXG4gIFxyXG4gIGZsb29yLnJvb21zLnB1c2gobmV3Um9vbSk7XHJcbiAgcmV0dXJuIG5ld1Jvb207XHJcbn07XHJcblxyXG4vKipcclxuICog2KXYttin2YHYqSDYrtiv2YXYqSDZhNi32KfYqNmCXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgYWRkU2VydmljZVRvRmxvb3IgPSAoXHJcbiAgY29tcGxleElkOiBzdHJpbmcsXHJcbiAgYnVpbGRpbmdJZDogc3RyaW5nLFxyXG4gIGZsb29yTnVtYmVyOiBudW1iZXIsXHJcbiAgc2VydmljZTogT21pdDxTZXJ2aWNlLCAnaWQnPlxyXG4pOiBTZXJ2aWNlIHwgdW5kZWZpbmVkID0+IHtcclxuICBjb25zdCBmbG9vciA9IGdldEZsb29yQnlOdW1iZXIoY29tcGxleElkLCBidWlsZGluZ0lkLCBmbG9vck51bWJlcik7XHJcbiAgXHJcbiAgaWYgKCFmbG9vcikge1xyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICB9XHJcbiAgXHJcbiAgY29uc3QgbmV3U2VydmljZTogU2VydmljZSA9IHtcclxuICAgIGlkOiBnZW5lcmF0ZVVuaXF1ZUlkKCksXHJcbiAgICBuYW1lOiBzZXJ2aWNlLm5hbWUsXHJcbiAgICB0eXBlOiBzZXJ2aWNlLnR5cGUsXHJcbiAgICBsb2NhdGlvbjogc2VydmljZS5sb2NhdGlvbixcclxuICAgIGRlc2NyaXB0aW9uOiBzZXJ2aWNlLmRlc2NyaXB0aW9uXHJcbiAgfTtcclxuICBcclxuICBmbG9vci5zZXJ2aWNlcy5wdXNoKG5ld1NlcnZpY2UpO1xyXG4gIHJldHVybiBuZXdTZXJ2aWNlO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqINil2LbYp9mB2Kkg2K7Yr9mF2Kkg2YTYutix2YHYqVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGFkZFNlcnZpY2VUb1Jvb20gPSAoXHJcbiAgY29tcGxleElkOiBzdHJpbmcsXHJcbiAgYnVpbGRpbmdJZDogc3RyaW5nLFxyXG4gIGZsb29yTnVtYmVyOiBudW1iZXIsXHJcbiAgcm9vbU51bWJlcjogc3RyaW5nLFxyXG4gIHNlcnZpY2U6IE9taXQ8U2VydmljZSwgJ2lkJz5cclxuKTogU2VydmljZSB8IHVuZGVmaW5lZCA9PiB7XHJcbiAgY29uc3QgZmxvb3IgPSBnZXRGbG9vckJ5TnVtYmVyKGNvbXBsZXhJZCwgYnVpbGRpbmdJZCwgZmxvb3JOdW1iZXIpO1xyXG4gIGlmICghZmxvb3IpIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgXHJcbiAgY29uc3Qgcm9vbSA9IGZsb29yLnJvb21zLmZpbmQocm9vbSA9PiByb29tLnJvb21fbnVtYmVyID09PSByb29tTnVtYmVyKTtcclxuICBpZiAoIXJvb20pIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgXHJcbiAgaWYgKCFyb29tLnNlcnZpY2VzKSB7XHJcbiAgICByb29tLnNlcnZpY2VzID0gW107XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnN0IG5ld1NlcnZpY2U6IFNlcnZpY2UgPSB7XHJcbiAgICBpZDogZ2VuZXJhdGVVbmlxdWVJZCgpLFxyXG4gICAgbmFtZTogc2VydmljZS5uYW1lLFxyXG4gICAgdHlwZTogc2VydmljZS50eXBlLFxyXG4gICAgbG9jYXRpb246IHNlcnZpY2UubG9jYXRpb24sXHJcbiAgICBkZXNjcmlwdGlvbjogc2VydmljZS5kZXNjcmlwdGlvblxyXG4gIH07XHJcbiAgXHJcbiAgcm9vbS5zZXJ2aWNlcy5wdXNoKG5ld1NlcnZpY2UpO1xyXG4gIHJldHVybiBuZXdTZXJ2aWNlO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqINiv2KfZhNipINmF2LPYp9i52K/YqSDZhNil2YbYtNin2KEg2YXYudix2YHYp9iqINmB2LHZitiv2KlcclxuICovXHJcbmNvbnN0IGdlbmVyYXRlVW5pcXVlSWQgPSAoKTogc3RyaW5nID0+IHtcclxuICByZXR1cm4gRGF0ZS5ub3coKS50b1N0cmluZygzNikgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMik7XHJcbn07XHJcblxyXG4vKipcclxuICog2KfYs9iq2YrYsdin2K8g2KjZitin2YbYp9iqINin2YTZhdis2YXYudin2Kog2KfZhNiz2YPZhtmK2Kkg2YXZhiDZiNit2K/Yp9iqIEFQSSDYrtin2LHYrNmK2KlcclxuICovXHJcbmV4cG9ydCBjb25zdCBpbXBvcnRDb21wbGV4ZXNGcm9tQVBJID0gYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2hvdXNpbmcnKTtcclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGDZgdi02YQg2YHZiiDYrNmE2Kgg2KfZhNmF2KzZhdi52KfYqiDYp9mE2LPZg9mG2YrYqTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBhcGlDb21wbGV4ZXMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBcclxuICAgIC8vINiq2K3ZiNmK2YQg2KfZhNio2YrYp9mG2KfYqiDZhdmGINin2YTZhtmF2YjYsNisINin2YTZgtiv2YrZhSDYpdmE2Ykg2KfZhNmG2YXZiNiw2Kwg2KfZhNis2K/ZitivXHJcbiAgICBjb25zdCB0cmFuc2Zvcm1lZENvbXBsZXhlczogUmVzaWRlbnRpYWxDb21wbGV4W10gPSBbXTtcclxuICAgIFxyXG4gICAgZm9yIChjb25zdCBhcGlDb21wbGV4IG9mIGFwaUNvbXBsZXhlcykge1xyXG4gICAgICBjb25zdCBjb21wbGV4OiBSZXNpZGVudGlhbENvbXBsZXggPSB7XHJcbiAgICAgICAgaWQ6IGFwaUNvbXBsZXguaWQsXHJcbiAgICAgICAgbmFtZTogYXBpQ29tcGxleC5uYW1lLFxyXG4gICAgICAgIGxvY2F0aW9uOiBhcGlDb21wbGV4LmxvY2F0aW9uLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBhcGlDb21wbGV4LmRlc2NyaXB0aW9uLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQ6IGFwaUNvbXBsZXguY3JlYXRlZF9hdCxcclxuICAgICAgICBidWlsZGluZ3M6IFtdLFxyXG4gICAgICAgIHNoYXJlZEZhY2lsaXRpZXM6IFtdXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICAvLyDYp9iz2KrZitix2KfYryDYp9mE2YXYqNin2YbZilxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGJ1aWxkaW5nc1Jlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvaG91c2luZy9idWlsZGluZ3M/Y29tcGxleElkPSR7Y29tcGxleC5pZH1gKTtcclxuICAgICAgICBpZiAoYnVpbGRpbmdzUmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgIGNvbnN0IGFwaUJ1aWxkaW5ncyA9IGF3YWl0IGJ1aWxkaW5nc1Jlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgZm9yIChjb25zdCBhcGlCdWlsZGluZyBvZiBhcGlCdWlsZGluZ3MpIHtcclxuICAgICAgICAgICAgY29uc3QgYnVpbGRpbmc6IEJ1aWxkaW5nID0ge1xyXG4gICAgICAgICAgICAgIGlkOiBhcGlCdWlsZGluZy5pZCxcclxuICAgICAgICAgICAgICBuYW1lOiBhcGlCdWlsZGluZy5uYW1lLFxyXG4gICAgICAgICAgICAgIGNvbXBsZXhfaWQ6IGFwaUJ1aWxkaW5nLmNvbXBsZXhfaWQsXHJcbiAgICAgICAgICAgICAgZmxvb3JzX2NvdW50OiBhcGlCdWlsZGluZy5mbG9vcnMsXHJcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGFwaUJ1aWxkaW5nLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgIGZsb29yczogW11cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vINil2YbYtNin2KEg2LfZiNin2KjZgiDYp9mB2KrYsdin2LbZitipINio2YbYp9ih2Ysg2LnZhNmJINi52K/YryDYp9mE2LfZiNin2KjZgiDZgdmKINin2YTZhdio2YbZiVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBhcGlCdWlsZGluZy5mbG9vcnM7IGkrKykge1xyXG4gICAgICAgICAgICAgIGNvbnN0IGZsb29yOiBGbG9vciA9IHtcclxuICAgICAgICAgICAgICAgIGlkOiBnZW5lcmF0ZVVuaXF1ZUlkKCksXHJcbiAgICAgICAgICAgICAgICBudW1iZXI6IGksXHJcbiAgICAgICAgICAgICAgICByb29tczogW10sXHJcbiAgICAgICAgICAgICAgICBzZXJ2aWNlczogW11cclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIGJ1aWxkaW5nLmZsb29ycy5wdXNoKGZsb29yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29tcGxleC5idWlsZGluZ3MucHVzaChidWlsZGluZyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYNmB2LTZhCDZgdmKINin2LPYqtmK2LHYp9ivINin2YTZhdio2KfZhtmKINmE2YTZhdis2YXYuSAke2NvbXBsZXgubmFtZX06YCwgZXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICB0cmFuc2Zvcm1lZENvbXBsZXhlcy5wdXNoKGNvbXBsZXgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyDYqtit2K/ZitirINin2YTZhdi12YHZiNmB2Kkg2KfZhNix2KbZitiz2YrYqVxyXG4gICAgcmVzaWRlbnRpYWxDb21wbGV4ZXMgPSB0cmFuc2Zvcm1lZENvbXBsZXhlcztcclxuICAgIFxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfZgdi02YQg2YHZiiDYp9iz2KrZitix2KfYryDYp9mE2YXYrNmF2LnYp9iqINin2YTYs9mD2YbZitipOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTsiXSwibmFtZXMiOlsicmVzaWRlbnRpYWxDb21wbGV4ZXMiLCJnZXRBbGxDb21wbGV4ZXMiLCJnZXRDb21wbGV4QnlJZCIsImlkIiwiZmluZCIsImNvbXBsZXgiLCJjcmVhdGVDb21wbGV4IiwibmV3Q29tcGxleCIsImdlbmVyYXRlVW5pcXVlSWQiLCJuYW1lIiwibG9jYXRpb24iLCJkZXNjcmlwdGlvbiIsImJ1aWxkaW5ncyIsInNoYXJlZEZhY2lsaXRpZXMiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicHVzaCIsInVwZGF0ZUNvbXBsZXgiLCJ1cGRhdGVzIiwiY29tcGxleEluZGV4IiwiZmluZEluZGV4IiwidW5kZWZpbmVkIiwidXBkYXRlZENvbXBsZXgiLCJkZWxldGVDb21wbGV4IiwiaW5pdGlhbExlbmd0aCIsImxlbmd0aCIsImZpbHRlciIsImFkZEJ1aWxkaW5nVG9Db21wbGV4IiwiY29tcGxleElkIiwiYnVpbGRpbmciLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY29tcGxleF9pZCIsImZsb29ycyIsIm9rIiwiRXJyb3IiLCJzdGF0dXNUZXh0IiwibmV3QnVpbGRpbmciLCJqc29uIiwiYnVpbGRpbmdXaXRoRmxvb3JzIiwiZXJyb3IiLCJjb25zb2xlIiwiZ2V0QnVpbGRpbmdCeUlkIiwiYnVpbGRpbmdJZCIsImFkZEZsb29yVG9CdWlsZGluZyIsImZsb29yTnVtYmVyIiwic29tZSIsImZsb29yIiwibnVtYmVyIiwibmV3Rmxvb3IiLCJyb29tcyIsInNlcnZpY2VzIiwiZmxvb3JzX2NvdW50Iiwic29ydCIsImEiLCJiIiwiZ2V0Rmxvb3JCeU51bWJlciIsImFkZFJvb21Ub0Zsb29yIiwicm9vbSIsImV4aXN0aW5nUm9vbSIsInJvb21fbnVtYmVyIiwibmV3Um9vbSIsInR5cGUiLCJzdGF0dXMiLCJhcmVhIiwiaGFzQmFsY29ueSIsImFkZFNlcnZpY2VUb0Zsb29yIiwic2VydmljZSIsIm5ld1NlcnZpY2UiLCJhZGRTZXJ2aWNlVG9Sb29tIiwicm9vbU51bWJlciIsIm5vdyIsInRvU3RyaW5nIiwiTWF0aCIsInJhbmRvbSIsInN1YnN0cmluZyIsImltcG9ydENvbXBsZXhlc0Zyb21BUEkiLCJhcGlDb21wbGV4ZXMiLCJ0cmFuc2Zvcm1lZENvbXBsZXhlcyIsImFwaUNvbXBsZXgiLCJidWlsZGluZ3NSZXNwb25zZSIsImFwaUJ1aWxkaW5ncyIsImFwaUJ1aWxkaW5nIiwiaSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/services/complexManagementService.ts\n"));

/***/ })

});