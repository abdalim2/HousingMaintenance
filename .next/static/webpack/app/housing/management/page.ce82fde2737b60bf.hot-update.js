"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/housing/management/page",{

/***/ "(app-pages-browser)/./src/lib/services/complexManagementService.ts":
/*!******************************************************!*\
  !*** ./src/lib/services/complexManagementService.ts ***!
  \******************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addBuildingToComplex: () => (/* binding */ addBuildingToComplex),\n/* harmony export */   addFloorToBuilding: () => (/* binding */ addFloorToBuilding),\n/* harmony export */   addRoomToFloor: () => (/* binding */ addRoomToFloor),\n/* harmony export */   addServiceToFloor: () => (/* binding */ addServiceToFloor),\n/* harmony export */   addServiceToRoom: () => (/* binding */ addServiceToRoom),\n/* harmony export */   createComplex: () => (/* binding */ createComplex),\n/* harmony export */   deleteComplex: () => (/* binding */ deleteComplex),\n/* harmony export */   getAllComplexes: () => (/* binding */ getAllComplexes),\n/* harmony export */   getBuildingById: () => (/* binding */ getBuildingById),\n/* harmony export */   getComplexById: () => (/* binding */ getComplexById),\n/* harmony export */   getFloorByNumber: () => (/* binding */ getFloorByNumber),\n/* harmony export */   importComplexesFromAPI: () => (/* binding */ importComplexesFromAPI),\n/* harmony export */   updateComplex: () => (/* binding */ updateComplex)\n/* harmony export */ });\n// المصفوفة الرئيسية لتخزين جميع المجمعات السكنية\nlet residentialComplexes = [];\n/**\r\n * الحصول على جميع المجمعات السكنية\r\n */ const getAllComplexes = ()=>{\n    return residentialComplexes;\n};\n/**\r\n * الحصول على مجمع سكني بواسطة المعرف\r\n */ const getComplexById = (id)=>{\n    return residentialComplexes.find((complex)=>complex.id === id);\n};\n/**\r\n * إنشاء مجمع سكني جديد\r\n */ const createComplex = (complex)=>{\n    const newComplex = {\n        id: generateUniqueId(),\n        name: complex.name,\n        location: complex.location,\n        description: complex.description,\n        buildings: [],\n        sharedFacilities: [],\n        created_at: new Date().toISOString()\n    };\n    residentialComplexes.push(newComplex);\n    return newComplex;\n};\n/**\r\n * تحديث مجمع سكني\r\n */ const updateComplex = (id, updates)=>{\n    const complexIndex = residentialComplexes.findIndex((complex)=>complex.id === id);\n    if (complexIndex === -1) {\n        return undefined;\n    }\n    const updatedComplex = {\n        ...residentialComplexes[complexIndex],\n        ...updates\n    };\n    residentialComplexes[complexIndex] = updatedComplex;\n    return updatedComplex;\n};\n/**\r\n * حذف مجمع سكني\r\n */ const deleteComplex = (id)=>{\n    const initialLength = residentialComplexes.length;\n    residentialComplexes = residentialComplexes.filter((complex)=>complex.id !== id);\n    return residentialComplexes.length < initialLength;\n};\n/**\r\n * إضافة مبنى لمجمع سكني\r\n */ const addBuildingToComplex = async (complexId, building)=>{\n    try {\n        // إرسال طلب لإضافة المبنى إلى قاعدة البيانات\n        const response = await fetch('/api/housing/buildings', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                complex_id: complexId,\n                name: building.name,\n                description: building.description,\n                floors: 0\n            })\n        });\n        if (!response.ok) {\n            throw new Error(\"فشل في إضافة المبنى: \".concat(response.statusText));\n        }\n        const newBuilding = await response.json();\n        // إضافة المبنى إلى المصفوفة المحلية أيضاً\n        const complex = getComplexById(complexId);\n        if (complex) {\n            const buildingWithFloors = {\n                ...newBuilding,\n                floors: []\n            };\n            complex.buildings.push(buildingWithFloors);\n            return buildingWithFloors;\n        }\n        return undefined;\n    } catch (error) {\n        console.error('خطأ في إضافة المبنى:', error);\n        return undefined;\n    }\n};\n/**\r\n * الحصول على مبنى بواسطة المعرف\r\n */ const getBuildingById = (complexId, buildingId)=>{\n    const complex = getComplexById(complexId);\n    if (!complex) return undefined;\n    return complex.buildings.find((building)=>building.id === buildingId);\n};\n/**\r\n * إضافة طابق لمبنى\r\n */ const addFloorToBuilding = (complexId, buildingId, floorNumber)=>{\n    const building = getBuildingById(complexId, buildingId);\n    if (!building) {\n        return undefined;\n    }\n    // التحقق من عدم وجود طابق بنفس الرقم\n    if (building.floors.some((floor)=>floor.number === floorNumber)) {\n        return undefined;\n    }\n    const newFloor = {\n        id: generateUniqueId(),\n        number: floorNumber,\n        rooms: [],\n        services: []\n    };\n    building.floors.push(newFloor);\n    building.floors_count = building.floors.length;\n    // ترتيب الطوابق تصاعدياً حسب الرقم\n    building.floors.sort((a, b)=>a.number - b.number);\n    return newFloor;\n};\n/**\r\n * الحصول على طابق بواسطة الرقم\r\n */ const getFloorByNumber = (complexId, buildingId, floorNumber)=>{\n    const building = getBuildingById(complexId, buildingId);\n    if (!building) return undefined;\n    return building.floors.find((floor)=>floor.number === floorNumber);\n};\n/**\r\n * إضافة غرفة لطابق\r\n */ const addRoomToFloor = (complexId, buildingId, floorNumber, room)=>{\n    const floor = getFloorByNumber(complexId, buildingId, floorNumber);\n    if (!floor) {\n        return undefined;\n    }\n    // التحقق من عدم وجود غرفة بنفس الرقم\n    if (floor.rooms.some((existingRoom)=>existingRoom.room_number === room.room_number)) {\n        return undefined;\n    }\n    const newRoom = {\n        id: generateUniqueId(),\n        name: room.name,\n        room_number: room.room_number,\n        type: room.type,\n        status: room.status,\n        area: room.area,\n        hasBalcony: room.hasBalcony,\n        services: []\n    };\n    floor.rooms.push(newRoom);\n    return newRoom;\n};\n/**\r\n * إضافة خدمة لطابق\r\n */ const addServiceToFloor = (complexId, buildingId, floorNumber, service)=>{\n    const floor = getFloorByNumber(complexId, buildingId, floorNumber);\n    if (!floor) {\n        return undefined;\n    }\n    const newService = {\n        id: generateUniqueId(),\n        name: service.name,\n        type: service.type,\n        location: service.location,\n        description: service.description\n    };\n    floor.services.push(newService);\n    return newService;\n};\n/**\r\n * إضافة خدمة لغرفة\r\n */ const addServiceToRoom = (complexId, buildingId, floorNumber, roomNumber, service)=>{\n    const floor = getFloorByNumber(complexId, buildingId, floorNumber);\n    if (!floor) return undefined;\n    const room = floor.rooms.find((room)=>room.room_number === roomNumber);\n    if (!room) return undefined;\n    if (!room.services) {\n        room.services = [];\n    }\n    const newService = {\n        id: generateUniqueId(),\n        name: service.name,\n        type: service.type,\n        location: service.location,\n        description: service.description\n    };\n    room.services.push(newService);\n    return newService;\n};\n/**\r\n * دالة مساعدة لإنشاء معرفات فريدة\r\n */ const generateUniqueId = ()=>{\n    return Date.now().toString(36) + Math.random().toString(36).substring(2);\n};\n/**\r\n * استيراد بيانات المجمعات السكنية من وحدات API خارجية\r\n */ const importComplexesFromAPI = async ()=>{\n    try {\n        const response = await fetch('/api/housing');\n        if (!response.ok) {\n            throw new Error(\"فشل في جلب المجمعات السكنية: \".concat(response.statusText));\n        }\n        const apiComplexes = await response.json();\n        // تحويل البيانات من النموذج القديم إلى النموذج الجديد\n        const transformedComplexes = [];\n        for (const apiComplex of apiComplexes){\n            const complex = {\n                id: apiComplex.id,\n                name: apiComplex.name,\n                location: apiComplex.location,\n                description: apiComplex.description,\n                created_at: apiComplex.created_at,\n                buildings: [],\n                sharedFacilities: []\n            };\n            // استيراد المباني\n            try {\n                const buildingsResponse = await fetch(\"/api/housing/buildings?complexId=\".concat(complex.id));\n                if (buildingsResponse.ok) {\n                    const apiBuildings = await buildingsResponse.json();\n                    for (const apiBuilding of apiBuildings){\n                        const building = {\n                            id: apiBuilding.id,\n                            name: apiBuilding.name,\n                            complex_id: apiBuilding.complex_id,\n                            floors_count: apiBuilding.floors,\n                            description: apiBuilding.description,\n                            floors: []\n                        };\n                        // إنشاء طوابق افتراضية بناءً على عدد الطوابق في المبنى\n                        for(let i = 1; i <= apiBuilding.floors; i++){\n                            const floor = {\n                                id: generateUniqueId(),\n                                number: i,\n                                rooms: [],\n                                services: []\n                            };\n                            building.floors.push(floor);\n                        }\n                        complex.buildings.push(building);\n                    }\n                }\n            } catch (error) {\n                console.error(\"فشل في استيراد المباني للمجمع \".concat(complex.name, \":\"), error);\n            }\n            transformedComplexes.push(complex);\n        }\n        // تحديث المصفوفة الرئيسية\n        residentialComplexes = transformedComplexes;\n    } catch (error) {\n        console.error('فشل في استيراد المجمعات السكنية:', error);\n        throw error;\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvc2VydmljZXMvY29tcGxleE1hbmFnZW1lbnRTZXJ2aWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFTQSxpREFBaUQ7QUFDakQsSUFBSUEsdUJBQTZDLEVBQUU7QUFFbkQ7O0NBRUMsR0FDTSxNQUFNQyxrQkFBa0I7SUFDN0IsT0FBT0Q7QUFDVCxFQUFFO0FBRUY7O0NBRUMsR0FDTSxNQUFNRSxpQkFBaUIsQ0FBQ0M7SUFDN0IsT0FBT0gscUJBQXFCSSxJQUFJLENBQUNDLENBQUFBLFVBQVdBLFFBQVFGLEVBQUUsS0FBS0E7QUFDN0QsRUFBRTtBQUVGOztDQUVDLEdBQ00sTUFBTUcsZ0JBQWdCLENBQUNEO0lBQzVCLE1BQU1FLGFBQWlDO1FBQ3JDSixJQUFJSztRQUNKQyxNQUFNSixRQUFRSSxJQUFJO1FBQ2xCQyxVQUFVTCxRQUFRSyxRQUFRO1FBQzFCQyxhQUFhTixRQUFRTSxXQUFXO1FBQ2hDQyxXQUFXLEVBQUU7UUFDYkMsa0JBQWtCLEVBQUU7UUFDcEJDLFlBQVksSUFBSUMsT0FBT0MsV0FBVztJQUNwQztJQUVBaEIscUJBQXFCaUIsSUFBSSxDQUFDVjtJQUMxQixPQUFPQTtBQUNULEVBQUU7QUFFRjs7Q0FFQyxHQUNNLE1BQU1XLGdCQUFnQixDQUFDZixJQUFZZ0I7SUFDeEMsTUFBTUMsZUFBZXBCLHFCQUFxQnFCLFNBQVMsQ0FBQ2hCLENBQUFBLFVBQVdBLFFBQVFGLEVBQUUsS0FBS0E7SUFFOUUsSUFBSWlCLGlCQUFpQixDQUFDLEdBQUc7UUFDdkIsT0FBT0U7SUFDVDtJQUVBLE1BQU1DLGlCQUFpQjtRQUNyQixHQUFHdkIsb0JBQW9CLENBQUNvQixhQUFhO1FBQ3JDLEdBQUdELE9BQU87SUFDWjtJQUVBbkIsb0JBQW9CLENBQUNvQixhQUFhLEdBQUdHO0lBQ3JDLE9BQU9BO0FBQ1QsRUFBRTtBQUVGOztDQUVDLEdBQ00sTUFBTUMsZ0JBQWdCLENBQUNyQjtJQUM1QixNQUFNc0Is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bnRlbmFuY2VcXHNyY1xcbGliXFxzZXJ2aWNlc1xcY29tcGxleE1hbmFnZW1lbnRTZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFxyXG4gIFJlc2lkZW50aWFsQ29tcGxleCwgXHJcbiAgQnVpbGRpbmcsIFxyXG4gIEZsb29yLCBcclxuICBSb29tLCBcclxuICBTZXJ2aWNlLCBcclxuICBGYWNpbGl0eSBcclxufSBmcm9tICdAL21vZGVscy90eXBlcyc7XHJcblxyXG4vLyDYp9mE2YXYtdmB2YjZgdipINin2YTYsdim2YrYs9mK2Kkg2YTYqtiu2LLZitmGINis2YXZiti5INin2YTZhdis2YXYudin2Kog2KfZhNiz2YPZhtmK2KlcclxubGV0IHJlc2lkZW50aWFsQ29tcGxleGVzOiBSZXNpZGVudGlhbENvbXBsZXhbXSA9IFtdO1xyXG5cclxuLyoqXHJcbiAqINin2YTYrdi12YjZhCDYudmE2Ykg2KzZhdmK2Lkg2KfZhNmF2KzZhdi52KfYqiDYp9mE2LPZg9mG2YrYqVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGdldEFsbENvbXBsZXhlcyA9ICgpOiBSZXNpZGVudGlhbENvbXBsZXhbXSA9PiB7XHJcbiAgcmV0dXJuIHJlc2lkZW50aWFsQ29tcGxleGVzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqINin2YTYrdi12YjZhCDYudmE2Ykg2YXYrNmF2Lkg2LPZg9mG2Yog2KjZiNin2LPYt9ipINin2YTZhdi52LHZgVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGdldENvbXBsZXhCeUlkID0gKGlkOiBzdHJpbmcpOiBSZXNpZGVudGlhbENvbXBsZXggfCB1bmRlZmluZWQgPT4ge1xyXG4gIHJldHVybiByZXNpZGVudGlhbENvbXBsZXhlcy5maW5kKGNvbXBsZXggPT4gY29tcGxleC5pZCA9PT0gaWQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqINil2YbYtNin2KEg2YXYrNmF2Lkg2LPZg9mG2Yog2KzYr9mK2K9cclxuICovXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVDb21wbGV4ID0gKGNvbXBsZXg6IE9taXQ8UmVzaWRlbnRpYWxDb21wbGV4LCAnaWQnIHwgJ2J1aWxkaW5ncycgfCAnY3JlYXRlZF9hdCc+KTogUmVzaWRlbnRpYWxDb21wbGV4ID0+IHtcclxuICBjb25zdCBuZXdDb21wbGV4OiBSZXNpZGVudGlhbENvbXBsZXggPSB7XHJcbiAgICBpZDogZ2VuZXJhdGVVbmlxdWVJZCgpLFxyXG4gICAgbmFtZTogY29tcGxleC5uYW1lLFxyXG4gICAgbG9jYXRpb246IGNvbXBsZXgubG9jYXRpb24sXHJcbiAgICBkZXNjcmlwdGlvbjogY29tcGxleC5kZXNjcmlwdGlvbixcclxuICAgIGJ1aWxkaW5nczogW10sXHJcbiAgICBzaGFyZWRGYWNpbGl0aWVzOiBbXSxcclxuICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gIH07XHJcbiAgXHJcbiAgcmVzaWRlbnRpYWxDb21wbGV4ZXMucHVzaChuZXdDb21wbGV4KTtcclxuICByZXR1cm4gbmV3Q29tcGxleDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiDYqtit2K/ZitirINmF2KzZhdi5INiz2YPZhtmKXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgdXBkYXRlQ29tcGxleCA9IChpZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPFJlc2lkZW50aWFsQ29tcGxleD4pOiBSZXNpZGVudGlhbENvbXBsZXggfCB1bmRlZmluZWQgPT4ge1xyXG4gIGNvbnN0IGNvbXBsZXhJbmRleCA9IHJlc2lkZW50aWFsQ29tcGxleGVzLmZpbmRJbmRleChjb21wbGV4ID0+IGNvbXBsZXguaWQgPT09IGlkKTtcclxuICBcclxuICBpZiAoY29tcGxleEluZGV4ID09PSAtMSkge1xyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICB9XHJcbiAgXHJcbiAgY29uc3QgdXBkYXRlZENvbXBsZXggPSB7XHJcbiAgICAuLi5yZXNpZGVudGlhbENvbXBsZXhlc1tjb21wbGV4SW5kZXhdLFxyXG4gICAgLi4udXBkYXRlcyxcclxuICB9O1xyXG4gIFxyXG4gIHJlc2lkZW50aWFsQ29tcGxleGVzW2NvbXBsZXhJbmRleF0gPSB1cGRhdGVkQ29tcGxleDtcclxuICByZXR1cm4gdXBkYXRlZENvbXBsZXg7XHJcbn07XHJcblxyXG4vKipcclxuICog2K3YsNmBINmF2KzZhdi5INiz2YPZhtmKXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZGVsZXRlQ29tcGxleCA9IChpZDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XHJcbiAgY29uc3QgaW5pdGlhbExlbmd0aCA9IHJlc2lkZW50aWFsQ29tcGxleGVzLmxlbmd0aDtcclxuICByZXNpZGVudGlhbENvbXBsZXhlcyA9IHJlc2lkZW50aWFsQ29tcGxleGVzLmZpbHRlcihjb21wbGV4ID0+IGNvbXBsZXguaWQgIT09IGlkKTtcclxuICByZXR1cm4gcmVzaWRlbnRpYWxDb21wbGV4ZXMubGVuZ3RoIDwgaW5pdGlhbExlbmd0aDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiDYpdi22KfZgdipINmF2KjZhtmJINmE2YXYrNmF2Lkg2LPZg9mG2YpcclxuICovXHJcbmV4cG9ydCBjb25zdCBhZGRCdWlsZGluZ1RvQ29tcGxleCA9IGFzeW5jIChjb21wbGV4SWQ6IHN0cmluZywgYnVpbGRpbmc6IE9taXQ8QnVpbGRpbmcsICdpZCcgfCAnZmxvb3JzJyB8ICdjb21wbGV4X2lkJz4pOiBQcm9taXNlPEJ1aWxkaW5nIHwgdW5kZWZpbmVkPiA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vINil2LHYs9in2YQg2LfZhNioINmE2KXYttin2YHYqSDYp9mE2YXYqNmG2Ykg2KXZhNmJINmC2KfYudiv2Kkg2KfZhNio2YrYp9mG2KfYqlxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9ob3VzaW5nL2J1aWxkaW5ncycsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgY29tcGxleF9pZDogY29tcGxleElkLFxyXG4gICAgICAgIG5hbWU6IGJ1aWxkaW5nLm5hbWUsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGJ1aWxkaW5nLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgIGZsb29yczogMCwgLy8g2YrYqNiv2KMg2KjYtdmB2LEg2LfYp9io2YJcclxuICAgICAgfSksXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihg2YHYtNmEINmB2Yog2KXYttin2YHYqSDYp9mE2YXYqNmG2Yk6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBuZXdCdWlsZGluZyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIFxyXG4gICAgLy8g2KXYttin2YHYqSDYp9mE2YXYqNmG2Ykg2KXZhNmJINin2YTZhdi12YHZiNmB2Kkg2KfZhNmF2K3ZhNmK2Kkg2KPZiti22KfZi1xyXG4gICAgY29uc3QgY29tcGxleCA9IGdldENvbXBsZXhCeUlkKGNvbXBsZXhJZCk7XHJcbiAgICBpZiAoY29tcGxleCkge1xyXG4gICAgICBjb25zdCBidWlsZGluZ1dpdGhGbG9vcnM6IEJ1aWxkaW5nID0ge1xyXG4gICAgICAgIC4uLm5ld0J1aWxkaW5nLFxyXG4gICAgICAgIGZsb29yczogW11cclxuICAgICAgfTtcclxuICAgICAgY29tcGxleC5idWlsZGluZ3MucHVzaChidWlsZGluZ1dpdGhGbG9vcnMpO1xyXG4gICAgICByZXR1cm4gYnVpbGRpbmdXaXRoRmxvb3JzO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfYrti32KMg2YHZiiDYpdi22KfZgdipINin2YTZhdio2YbZiTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIH1cclxufTtcclxuLyoqXHJcbiAqINin2YTYrdi12YjZhCDYudmE2Ykg2YXYqNmG2Ykg2KjZiNin2LPYt9ipINin2YTZhdi52LHZgVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGdldEJ1aWxkaW5nQnlJZCA9IChjb21wbGV4SWQ6IHN0cmluZywgYnVpbGRpbmdJZDogc3RyaW5nKTogQnVpbGRpbmcgfCB1bmRlZmluZWQgPT4ge1xyXG4gIGNvbnN0IGNvbXBsZXggPSBnZXRDb21wbGV4QnlJZChjb21wbGV4SWQpO1xyXG4gIGlmICghY29tcGxleCkgcmV0dXJuIHVuZGVmaW5lZDtcclxuICBcclxuICByZXR1cm4gY29tcGxleC5idWlsZGluZ3MuZmluZChidWlsZGluZyA9PiBidWlsZGluZy5pZCA9PT0gYnVpbGRpbmdJZCk7XHJcbn07XHJcblxyXG4vKipcclxuICog2KXYttin2YHYqSDYt9in2KjZgiDZhNmF2KjZhtmJXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgYWRkRmxvb3JUb0J1aWxkaW5nID0gKGNvbXBsZXhJZDogc3RyaW5nLCBidWlsZGluZ0lkOiBzdHJpbmcsIGZsb29yTnVtYmVyOiBudW1iZXIpOiBGbG9vciB8IHVuZGVmaW5lZCA9PiB7XHJcbiAgY29uc3QgYnVpbGRpbmcgPSBnZXRCdWlsZGluZ0J5SWQoY29tcGxleElkLCBidWlsZGluZ0lkKTtcclxuICBcclxuICBpZiAoIWJ1aWxkaW5nKSB7XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIH1cclxuICBcclxuICAvLyDYp9mE2KrYrdmC2YIg2YXZhiDYudiv2YUg2YjYrNmI2K8g2LfYp9io2YIg2KjZhtmB2LMg2KfZhNix2YLZhVxyXG4gIGlmIChidWlsZGluZy5mbG9vcnMuc29tZShmbG9vciA9PiBmbG9vci5udW1iZXIgPT09IGZsb29yTnVtYmVyKSkge1xyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICB9XHJcbiAgXHJcbiAgY29uc3QgbmV3Rmxvb3I6IEZsb29yID0ge1xyXG4gICAgaWQ6IGdlbmVyYXRlVW5pcXVlSWQoKSxcclxuICAgIG51bWJlcjogZmxvb3JOdW1iZXIsXHJcbiAgICByb29tczogW10sXHJcbiAgICBzZXJ2aWNlczogW11cclxuICB9O1xyXG4gIFxyXG4gIGJ1aWxkaW5nLmZsb29ycy5wdXNoKG5ld0Zsb29yKTtcclxuICBidWlsZGluZy5mbG9vcnNfY291bnQgPSBidWlsZGluZy5mbG9vcnMubGVuZ3RoO1xyXG4gIFxyXG4gIC8vINiq2LHYqtmK2Kgg2KfZhNi32YjYp9io2YIg2KrYtdin2LnYr9mK2KfZiyDYrdiz2Kgg2KfZhNix2YLZhVxyXG4gIGJ1aWxkaW5nLmZsb29ycy5zb3J0KChhLCBiKSA9PiBhLm51bWJlciAtIGIubnVtYmVyKTtcclxuICBcclxuICByZXR1cm4gbmV3Rmxvb3I7XHJcbn07XHJcblxyXG4vKipcclxuICog2KfZhNit2LXZiNmEINi52YTZiSDYt9in2KjZgiDYqNmI2KfYs9i32Kkg2KfZhNix2YLZhVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGdldEZsb29yQnlOdW1iZXIgPSAoY29tcGxleElkOiBzdHJpbmcsIGJ1aWxkaW5nSWQ6IHN0cmluZywgZmxvb3JOdW1iZXI6IG51bWJlcik6IEZsb29yIHwgdW5kZWZpbmVkID0+IHtcclxuICBjb25zdCBidWlsZGluZyA9IGdldEJ1aWxkaW5nQnlJZChjb21wbGV4SWQsIGJ1aWxkaW5nSWQpO1xyXG4gIGlmICghYnVpbGRpbmcpIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgXHJcbiAgcmV0dXJuIGJ1aWxkaW5nLmZsb29ycy5maW5kKGZsb29yID0+IGZsb29yLm51bWJlciA9PT0gZmxvb3JOdW1iZXIpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqINil2LbYp9mB2Kkg2LrYsdmB2Kkg2YTYt9in2KjZglxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGFkZFJvb21Ub0Zsb29yID0gKFxyXG4gIGNvbXBsZXhJZDogc3RyaW5nLCBcclxuICBidWlsZGluZ0lkOiBzdHJpbmcsIFxyXG4gIGZsb29yTnVtYmVyOiBudW1iZXIsIFxyXG4gIHJvb206IE9taXQ8Um9vbSwgJ2lkJyB8ICdzZXJ2aWNlcyc+XHJcbik6IFJvb20gfCB1bmRlZmluZWQgPT4ge1xyXG4gIGNvbnN0IGZsb29yID0gZ2V0Rmxvb3JCeU51bWJlcihjb21wbGV4SWQsIGJ1aWxkaW5nSWQsIGZsb29yTnVtYmVyKTtcclxuICBcclxuICBpZiAoIWZsb29yKSB7XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIH1cclxuICBcclxuICAvLyDYp9mE2KrYrdmC2YIg2YXZhiDYudiv2YUg2YjYrNmI2K8g2LrYsdmB2Kkg2KjZhtmB2LMg2KfZhNix2YLZhVxyXG4gIGlmIChmbG9vci5yb29tcy5zb21lKGV4aXN0aW5nUm9vbSA9PiBleGlzdGluZ1Jvb20ucm9vbV9udW1iZXIgPT09IHJvb20ucm9vbV9udW1iZXIpKSB7XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIH1cclxuICBcclxuICBjb25zdCBuZXdSb29tOiBSb29tID0ge1xyXG4gICAgaWQ6IGdlbmVyYXRlVW5pcXVlSWQoKSxcclxuICAgIG5hbWU6IHJvb20ubmFtZSxcclxuICAgIHJvb21fbnVtYmVyOiByb29tLnJvb21fbnVtYmVyLFxyXG4gICAgdHlwZTogcm9vbS50eXBlLFxyXG4gICAgc3RhdHVzOiByb29tLnN0YXR1cyxcclxuICAgIGFyZWE6IHJvb20uYXJlYSxcclxuICAgIGhhc0JhbGNvbnk6IHJvb20uaGFzQmFsY29ueSxcclxuICAgIHNlcnZpY2VzOiBbXVxyXG4gIH07XHJcbiAgXHJcbiAgZmxvb3Iucm9vbXMucHVzaChuZXdSb29tKTtcclxuICByZXR1cm4gbmV3Um9vbTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiDYpdi22KfZgdipINiu2K/ZhdipINmE2LfYp9io2YJcclxuICovXHJcbmV4cG9ydCBjb25zdCBhZGRTZXJ2aWNlVG9GbG9vciA9IChcclxuICBjb21wbGV4SWQ6IHN0cmluZyxcclxuICBidWlsZGluZ0lkOiBzdHJpbmcsXHJcbiAgZmxvb3JOdW1iZXI6IG51bWJlcixcclxuICBzZXJ2aWNlOiBPbWl0PFNlcnZpY2UsICdpZCc+XHJcbik6IFNlcnZpY2UgfCB1bmRlZmluZWQgPT4ge1xyXG4gIGNvbnN0IGZsb29yID0gZ2V0Rmxvb3JCeU51bWJlcihjb21wbGV4SWQsIGJ1aWxkaW5nSWQsIGZsb29yTnVtYmVyKTtcclxuICBcclxuICBpZiAoIWZsb29yKSB7XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIH1cclxuICBcclxuICBjb25zdCBuZXdTZXJ2aWNlOiBTZXJ2aWNlID0ge1xyXG4gICAgaWQ6IGdlbmVyYXRlVW5pcXVlSWQoKSxcclxuICAgIG5hbWU6IHNlcnZpY2UubmFtZSxcclxuICAgIHR5cGU6IHNlcnZpY2UudHlwZSxcclxuICAgIGxvY2F0aW9uOiBzZXJ2aWNlLmxvY2F0aW9uLFxyXG4gICAgZGVzY3JpcHRpb246IHNlcnZpY2UuZGVzY3JpcHRpb25cclxuICB9O1xyXG4gIFxyXG4gIGZsb29yLnNlcnZpY2VzLnB1c2gobmV3U2VydmljZSk7XHJcbiAgcmV0dXJuIG5ld1NlcnZpY2U7XHJcbn07XHJcblxyXG4vKipcclxuICog2KXYttin2YHYqSDYrtiv2YXYqSDZhNi62LHZgdipXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgYWRkU2VydmljZVRvUm9vbSA9IChcclxuICBjb21wbGV4SWQ6IHN0cmluZyxcclxuICBidWlsZGluZ0lkOiBzdHJpbmcsXHJcbiAgZmxvb3JOdW1iZXI6IG51bWJlcixcclxuICByb29tTnVtYmVyOiBzdHJpbmcsXHJcbiAgc2VydmljZTogT21pdDxTZXJ2aWNlLCAnaWQnPlxyXG4pOiBTZXJ2aWNlIHwgdW5kZWZpbmVkID0+IHtcclxuICBjb25zdCBmbG9vciA9IGdldEZsb29yQnlOdW1iZXIoY29tcGxleElkLCBidWlsZGluZ0lkLCBmbG9vck51bWJlcik7XHJcbiAgaWYgKCFmbG9vcikgcmV0dXJuIHVuZGVmaW5lZDtcclxuICBcclxuICBjb25zdCByb29tID0gZmxvb3Iucm9vbXMuZmluZChyb29tID0+IHJvb20ucm9vbV9udW1iZXIgPT09IHJvb21OdW1iZXIpO1xyXG4gIGlmICghcm9vbSkgcmV0dXJuIHVuZGVmaW5lZDtcclxuICBcclxuICBpZiAoIXJvb20uc2VydmljZXMpIHtcclxuICAgIHJvb20uc2VydmljZXMgPSBbXTtcclxuICB9XHJcbiAgXHJcbiAgY29uc3QgbmV3U2VydmljZTogU2VydmljZSA9IHtcclxuICAgIGlkOiBnZW5lcmF0ZVVuaXF1ZUlkKCksXHJcbiAgICBuYW1lOiBzZXJ2aWNlLm5hbWUsXHJcbiAgICB0eXBlOiBzZXJ2aWNlLnR5cGUsXHJcbiAgICBsb2NhdGlvbjogc2VydmljZS5sb2NhdGlvbixcclxuICAgIGRlc2NyaXB0aW9uOiBzZXJ2aWNlLmRlc2NyaXB0aW9uXHJcbiAgfTtcclxuICBcclxuICByb29tLnNlcnZpY2VzLnB1c2gobmV3U2VydmljZSk7XHJcbiAgcmV0dXJuIG5ld1NlcnZpY2U7XHJcbn07XHJcblxyXG4vKipcclxuICog2K/Yp9mE2Kkg2YXYs9in2LnYr9ipINmE2KXZhti02KfYoSDZhdi52LHZgdin2Kog2YHYsdmK2K/YqVxyXG4gKi9cclxuY29uc3QgZ2VuZXJhdGVVbmlxdWVJZCA9ICgpOiBzdHJpbmcgPT4ge1xyXG4gIHJldHVybiBEYXRlLm5vdygpLnRvU3RyaW5nKDM2KSArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiDYp9iz2KrZitix2KfYryDYqNmK2KfZhtin2Kog2KfZhNmF2KzZhdi52KfYqiDYp9mE2LPZg9mG2YrYqSDZhdmGINmI2K3Yr9in2KogQVBJINiu2KfYsdis2YrYqVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGltcG9ydENvbXBsZXhlc0Zyb21BUEkgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvaG91c2luZycpO1xyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYNmB2LTZhCDZgdmKINis2YTYqCDYp9mE2YXYrNmF2LnYp9iqINin2YTYs9mD2YbZitipOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IGFwaUNvbXBsZXhlcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIFxyXG4gICAgLy8g2KrYrdmI2YrZhCDYp9mE2KjZitin2YbYp9iqINmF2YYg2KfZhNmG2YXZiNiw2Kwg2KfZhNmC2K/ZitmFINil2YTZiSDYp9mE2YbZhdmI2LDYrCDYp9mE2KzYr9mK2K9cclxuICAgIGNvbnN0IHRyYW5zZm9ybWVkQ29tcGxleGVzOiBSZXNpZGVudGlhbENvbXBsZXhbXSA9IFtdO1xyXG4gICAgXHJcbiAgICBmb3IgKGNvbnN0IGFwaUNvbXBsZXggb2YgYXBpQ29tcGxleGVzKSB7XHJcbiAgICAgIGNvbnN0IGNvbXBsZXg6IFJlc2lkZW50aWFsQ29tcGxleCA9IHtcclxuICAgICAgICBpZDogYXBpQ29tcGxleC5pZCxcclxuICAgICAgICBuYW1lOiBhcGlDb21wbGV4Lm5hbWUsXHJcbiAgICAgICAgbG9jYXRpb246IGFwaUNvbXBsZXgubG9jYXRpb24sXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGFwaUNvbXBsZXguZGVzY3JpcHRpb24sXHJcbiAgICAgICAgY3JlYXRlZF9hdDogYXBpQ29tcGxleC5jcmVhdGVkX2F0LFxyXG4gICAgICAgIGJ1aWxkaW5nczogW10sXHJcbiAgICAgICAgc2hhcmVkRmFjaWxpdGllczogW11cclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIC8vINin2LPYqtmK2LHYp9ivINin2YTZhdio2KfZhtmKXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgYnVpbGRpbmdzUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9ob3VzaW5nL2J1aWxkaW5ncz9jb21wbGV4SWQ9JHtjb21wbGV4LmlkfWApO1xyXG4gICAgICAgIGlmIChidWlsZGluZ3NSZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgY29uc3QgYXBpQnVpbGRpbmdzID0gYXdhaXQgYnVpbGRpbmdzUmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBmb3IgKGNvbnN0IGFwaUJ1aWxkaW5nIG9mIGFwaUJ1aWxkaW5ncykge1xyXG4gICAgICAgICAgICBjb25zdCBidWlsZGluZzogQnVpbGRpbmcgPSB7XHJcbiAgICAgICAgICAgICAgaWQ6IGFwaUJ1aWxkaW5nLmlkLFxyXG4gICAgICAgICAgICAgIG5hbWU6IGFwaUJ1aWxkaW5nLm5hbWUsXHJcbiAgICAgICAgICAgICAgY29tcGxleF9pZDogYXBpQnVpbGRpbmcuY29tcGxleF9pZCxcclxuICAgICAgICAgICAgICBmbG9vcnNfY291bnQ6IGFwaUJ1aWxkaW5nLmZsb29ycyxcclxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYXBpQnVpbGRpbmcuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgZmxvb3JzOiBbXVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8g2KXZhti02KfYoSDYt9mI2KfYqNmCINin2YHYqtix2KfYttmK2Kkg2KjZhtin2KHZiyDYudmE2Ykg2LnYr9ivINin2YTYt9mI2KfYqNmCINmB2Yog2KfZhNmF2KjZhtmJXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IGFwaUJ1aWxkaW5nLmZsb29yczsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgZmxvb3I6IEZsb29yID0ge1xyXG4gICAgICAgICAgICAgICAgaWQ6IGdlbmVyYXRlVW5pcXVlSWQoKSxcclxuICAgICAgICAgICAgICAgIG51bWJlcjogaSxcclxuICAgICAgICAgICAgICAgIHJvb21zOiBbXSxcclxuICAgICAgICAgICAgICAgIHNlcnZpY2VzOiBbXVxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgYnVpbGRpbmcuZmxvb3JzLnB1c2goZmxvb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb21wbGV4LmJ1aWxkaW5ncy5wdXNoKGJ1aWxkaW5nKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihg2YHYtNmEINmB2Yog2KfYs9iq2YrYsdin2K8g2KfZhNmF2KjYp9mG2Yog2YTZhNmF2KzZhdi5ICR7Y29tcGxleC5uYW1lfTpgLCBlcnJvcik7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHRyYW5zZm9ybWVkQ29tcGxleGVzLnB1c2goY29tcGxleCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vINiq2K3Yr9mK2Ksg2KfZhNmF2LXZgdmI2YHYqSDYp9mE2LHYptmK2LPZitipXHJcbiAgICByZXNpZGVudGlhbENvbXBsZXhlcyA9IHRyYW5zZm9ybWVkQ29tcGxleGVzO1xyXG4gICAgXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ9mB2LTZhCDZgdmKINin2LPYqtmK2LHYp9ivINin2YTZhdis2YXYudin2Kog2KfZhNiz2YPZhtmK2Kk6JywgZXJyb3IpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59OyJdLCJuYW1lcyI6WyJyZXNpZGVudGlhbENvbXBsZXhlcyIsImdldEFsbENvbXBsZXhlcyIsImdldENvbXBsZXhCeUlkIiwiaWQiLCJmaW5kIiwiY29tcGxleCIsImNyZWF0ZUNvbXBsZXgiLCJuZXdDb21wbGV4IiwiZ2VuZXJhdGVVbmlxdWVJZCIsIm5hbWUiLCJsb2NhdGlvbiIsImRlc2NyaXB0aW9uIiwiYnVpbGRpbmdzIiwic2hhcmVkRmFjaWxpdGllcyIsImNyZWF0ZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJwdXNoIiwidXBkYXRlQ29tcGxleCIsInVwZGF0ZXMiLCJjb21wbGV4SW5kZXgiLCJmaW5kSW5kZXgiLCJ1bmRlZmluZWQiLCJ1cGRhdGVkQ29tcGxleCIsImRlbGV0ZUNvbXBsZXgiLCJpbml0aWFsTGVuZ3RoIiwibGVuZ3RoIiwiZmlsdGVyIiwiYWRkQnVpbGRpbmdUb0NvbXBsZXgiLCJjb21wbGV4SWQiLCJidWlsZGluZyIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb21wbGV4X2lkIiwiZmxvb3JzIiwib2siLCJFcnJvciIsInN0YXR1c1RleHQiLCJuZXdCdWlsZGluZyIsImpzb24iLCJidWlsZGluZ1dpdGhGbG9vcnMiLCJlcnJvciIsImNvbnNvbGUiLCJnZXRCdWlsZGluZ0J5SWQiLCJidWlsZGluZ0lkIiwiYWRkRmxvb3JUb0J1aWxkaW5nIiwiZmxvb3JOdW1iZXIiLCJzb21lIiwiZmxvb3IiLCJudW1iZXIiLCJuZXdGbG9vciIsInJvb21zIiwic2VydmljZXMiLCJmbG9vcnNfY291bnQiLCJzb3J0IiwiYSIsImIiLCJnZXRGbG9vckJ5TnVtYmVyIiwiYWRkUm9vbVRvRmxvb3IiLCJyb29tIiwiZXhpc3RpbmdSb29tIiwicm9vbV9udW1iZXIiLCJuZXdSb29tIiwidHlwZSIsInN0YXR1cyIsImFyZWEiLCJoYXNCYWxjb255IiwiYWRkU2VydmljZVRvRmxvb3IiLCJzZXJ2aWNlIiwibmV3U2VydmljZSIsImFkZFNlcnZpY2VUb1Jvb20iLCJyb29tTnVtYmVyIiwibm93IiwidG9TdHJpbmciLCJNYXRoIiwicmFuZG9tIiwic3Vic3RyaW5nIiwiaW1wb3J0Q29tcGxleGVzRnJvbUFQSSIsImFwaUNvbXBsZXhlcyIsInRyYW5zZm9ybWVkQ29tcGxleGVzIiwiYXBpQ29tcGxleCIsImJ1aWxkaW5nc1Jlc3BvbnNlIiwiYXBpQnVpbGRpbmdzIiwiYXBpQnVpbGRpbmciLCJpIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/services/complexManagementService.ts\n"));

/***/ })

});